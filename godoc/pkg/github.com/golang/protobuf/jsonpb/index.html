<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>jsonpb - The Go Programming Language</title>

<link type="text/css" rel="stylesheet" href="../../../../../lib/godoc/style.css">


<script>window.initFuncs = [];</script>

<script src="../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.11.5";</script>
<script src="../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/">The Go Programming Language</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/">Go</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">
<a href="http://localhost:6060/doc/">Documents</a>
<a href="../../../../index.html">Packages</a>
<a href="http://localhost:6060/project/">The Project</a>
<a href="http://localhost:6060/help/">Help</a>

<a href="http://localhost:6060/blog/">Blog</a>


<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package jsonpb
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/golang/protobuf/jsonpb"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
				<dd><a href="index.html#pkg-subdirectories">Subdirectories</a></dd>
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>
Package jsonpb provides marshaling and unmarshaling between protocol buffers and JSON.
It follows the specification at <a href="https://developers.google.com/protocol-buffers/docs/proto3#json">https://developers.google.com/protocol-buffers/docs/proto3#json</a>.
</p>
<p>
This package produces a different output than the standard &#34;encoding/json&#34; package,
which does not operate correctly on protocol buffers.
</p>

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
			
				
				<dd><a href="index.html#Unmarshal">func Unmarshal(r io.Reader, pb proto.Message) error</a></dd>
			
				
				<dd><a href="index.html#UnmarshalNext">func UnmarshalNext(dec *json.Decoder, pb proto.Message) error</a></dd>
			
				
				<dd><a href="index.html#UnmarshalString">func UnmarshalString(str string, pb proto.Message) error</a></dd>
			
			
				
				<dd><a href="index.html#AnyResolver">type AnyResolver</a></dd>
				
				
			
				
				<dd><a href="index.html#JSONPBMarshaler">type JSONPBMarshaler</a></dd>
				
				
			
				
				<dd><a href="index.html#JSONPBUnmarshaler">type JSONPBUnmarshaler</a></dd>
				
				
			
				
				<dd><a href="index.html#Marshaler">type Marshaler</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Marshaler.Marshal">func (m *Marshaler) Marshal(out io.Writer, pb proto.Message) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Marshaler.MarshalToString">func (m *Marshaler) MarshalToString(pb proto.Message) (string, error)</a></dd>
				
			
				
				<dd><a href="index.html#Unmarshaler">type Unmarshaler</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Unmarshaler.Unmarshal">func (u *Unmarshaler) Unmarshal(r io.Reader, pb proto.Message) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Unmarshaler.UnmarshalNext">func (u *Unmarshaler) UnmarshalNext(dec *json.Decoder, pb proto.Message) error</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go">jsonpb.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
		
			
			
			<h2 id="Unmarshal">func <a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go?s=19744:19795#L702">Unmarshal</a>
				<a class="permalink" href="index.html#Unmarshal">&#xb6;</a>
				
				
			</h2>
			<pre>func Unmarshal(r <a href="http://localhost:6060/pkg/io/">io</a>.<a href="http://localhost:6060/pkg/io/#Reader">Reader</a>, pb <a href="../proto/index.html">proto</a>.<a href="../proto/index.html#Message">Message</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
			<p>
Unmarshal unmarshals a JSON object stream into a protocol
buffer. This function is lenient and will decode any options
permutations of the related Marshaler.
</p>

			
			

		
			
			
			<h2 id="UnmarshalNext">func <a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go?s=19462:19523#L695">UnmarshalNext</a>
				<a class="permalink" href="index.html#UnmarshalNext">&#xb6;</a>
				
				
			</h2>
			<pre>func UnmarshalNext(dec *<a href="http://localhost:6060/pkg/encoding/json/">json</a>.<a href="http://localhost:6060/pkg/encoding/json/#Decoder">Decoder</a>, pb <a href="../proto/index.html">proto</a>.<a href="../proto/index.html#Message">Message</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
			<p>
UnmarshalNext unmarshals the next protocol buffer from a JSON object stream.
This function is lenient and will decode any options permutations of the
related Marshaler.
</p>

			
			

		
			
			
			<h2 id="UnmarshalString">func <a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go?s=20030:20086#L709">UnmarshalString</a>
				<a class="permalink" href="index.html#UnmarshalString">&#xb6;</a>
				
				
			</h2>
			<pre>func UnmarshalString(str <a href="http://localhost:6060/pkg/builtin/#string">string</a>, pb <a href="../proto/index.html">proto</a>.<a href="../proto/index.html#Message">Message</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
			<p>
UnmarshalString will populate the fields of a protocol buffer based
on a JSON string. This function is lenient and will decode any options
permutations of the related Marshaler.
</p>

			
			

		
		
			
			
			<h2 id="AnyResolver">type <a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go?s=3318:3396#L79">AnyResolver</a>
				<a class="permalink" href="index.html#AnyResolver">&#xb6;</a>
				
				
			</h2>
			<p>
AnyResolver takes a type URL, present in an Any message, and resolves it into
an instance of the associated message.
</p>

			<pre>type AnyResolver interface {
    Resolve(typeUrl <a href="http://localhost:6060/pkg/builtin/#string">string</a>) (<a href="../proto/index.html">proto</a>.<a href="../proto/index.html#Message">Message</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="JSONPBMarshaler">type <a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go?s=4169:4246#L103">JSONPBMarshaler</a>
				<a class="permalink" href="index.html#JSONPBMarshaler">&#xb6;</a>
				
				
			</h2>
			<p>
JSONPBMarshaler is implemented by protobuf messages that customize the
way they are marshaled to JSON. Messages that implement this should
also implement JSONPBUnmarshaler so that the custom format can be
parsed.
</p>
<p>
The JSON marshaling must follow the proto to JSON specification:
</p>
<pre><a href="https://developers.google.com/protocol-buffers/docs/proto3#json">https://developers.google.com/protocol-buffers/docs/proto3#json</a>
</pre>

			<pre>type JSONPBMarshaler interface {
    MarshalJSONPB(*<a href="index.html#Marshaler">Marshaler</a>) ([]<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="JSONPBUnmarshaler">type <a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go?s=4619:4700#L114">JSONPBUnmarshaler</a>
				<a class="permalink" href="index.html#JSONPBUnmarshaler">&#xb6;</a>
				
				
			</h2>
			<p>
JSONPBUnmarshaler is implemented by protobuf messages that customize
the way they are unmarshaled from JSON. Messages that implement this
should also implement JSONPBMarshaler so that the custom format can be
produced.
</p>
<p>
The JSON unmarshaling must follow the JSON to proto specification:
</p>
<pre><a href="https://developers.google.com/protocol-buffers/docs/proto3#json">https://developers.google.com/protocol-buffers/docs/proto3#json</a>
</pre>

			<pre>type JSONPBUnmarshaler interface {
    UnmarshalJSONPB(*<a href="index.html#Unmarshaler">Unmarshaler</a>, []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Marshaler">type <a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go?s=2445:3193#L54">Marshaler</a>
				<a class="permalink" href="index.html#Marshaler">&#xb6;</a>
				
				
			</h2>
			<p>
Marshaler is a configurable object for converting between
protocol buffer objects and a JSON representation for them.
</p>

			<pre>type Marshaler struct {
    <span class="comment">// Whether to render enum values as integers, as opposed to string values.</span>
<span id="Marshaler.EnumsAsInts"></span>    EnumsAsInts <a href="http://localhost:6060/pkg/builtin/#bool">bool</a>

    <span class="comment">// Whether to render fields with zero values.</span>
<span id="Marshaler.EmitDefaults"></span>    EmitDefaults <a href="http://localhost:6060/pkg/builtin/#bool">bool</a>

    <span class="comment">// A string to indent each level by. The presence of this field will</span>
    <span class="comment">// also cause a space to appear between the field separator and</span>
    <span class="comment">// value, and for newlines to be appear between fields and array</span>
    <span class="comment">// elements.</span>
<span id="Marshaler.Indent"></span>    Indent <a href="http://localhost:6060/pkg/builtin/#string">string</a>

    <span class="comment">// Whether to use the original (.proto) name for fields.</span>
<span id="Marshaler.OrigName"></span>    OrigName <a href="http://localhost:6060/pkg/builtin/#bool">bool</a>

    <span class="comment">// A custom URL resolver to use when marshaling Any messages to JSON.</span>
    <span class="comment">// If unset, the default resolution strategy is to extract the</span>
    <span class="comment">// fully-qualified type name from the type URL and pass that to</span>
    <span class="comment">// proto.MessageType(string).</span>
<span id="Marshaler.AnyResolver"></span>    AnyResolver <a href="index.html#AnyResolver">AnyResolver</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="Marshaler.Marshal">func (*Marshaler) <a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go?s=4751:4817#L119">Marshal</a>
					<a class="permalink" href="index.html#Marshaler.Marshal">&#xb6;</a>
					
					
				</h3>
				<pre>func (m *<a href="index.html#Marshaler">Marshaler</a>) Marshal(out <a href="http://localhost:6060/pkg/io/">io</a>.<a href="http://localhost:6060/pkg/io/#Writer">Writer</a>, pb <a href="../proto/index.html">proto</a>.<a href="../proto/index.html#Message">Message</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
Marshal marshals a protocol buffer into JSON.
</p>

				
				
				
			
				
				<h3 id="Marshaler.MarshalToString">func (*Marshaler) <a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go?s=5213:5282#L133">MarshalToString</a>
					<a class="permalink" href="index.html#Marshaler.MarshalToString">&#xb6;</a>
					
					
				</h3>
				<pre>func (m *<a href="index.html#Marshaler">Marshaler</a>) MarshalToString(pb <a href="../proto/index.html">proto</a>.<a href="../proto/index.html#Message">Message</a>) (<a href="http://localhost:6060/pkg/builtin/#string">string</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				<p>
MarshalToString converts a protocol buffer object to JSON string.
</p>

				
				
				
			
		
			
			
			<h2 id="Unmarshaler">type <a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go?s=18076:18486#L658">Unmarshaler</a>
				<a class="permalink" href="index.html#Unmarshaler">&#xb6;</a>
				
				
			</h2>
			<p>
Unmarshaler is a configurable object for converting from a JSON
representation to a protocol buffer object.
</p>

			<pre>type Unmarshaler struct {
    <span class="comment">// Whether to allow messages to contain unknown fields, as opposed to</span>
    <span class="comment">// failing to unmarshal.</span>
<span id="Unmarshaler.AllowUnknownFields"></span>    AllowUnknownFields <a href="http://localhost:6060/pkg/builtin/#bool">bool</a>

    <span class="comment">// A custom URL resolver to use when unmarshaling Any messages from JSON.</span>
    <span class="comment">// If unset, the default resolution strategy is to extract the</span>
    <span class="comment">// fully-qualified type name from the type URL and pass that to</span>
    <span class="comment">// proto.MessageType(string).</span>
<span id="Unmarshaler.AnyResolver"></span>    AnyResolver <a href="index.html#AnyResolver">AnyResolver</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="Unmarshaler.Unmarshal">func (*Unmarshaler) <a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go?s=19150:19218#L687">Unmarshal</a>
					<a class="permalink" href="index.html#Unmarshaler.Unmarshal">&#xb6;</a>
					
					
				</h3>
				<pre>func (u *<a href="index.html#Unmarshaler">Unmarshaler</a>) Unmarshal(r <a href="http://localhost:6060/pkg/io/">io</a>.<a href="http://localhost:6060/pkg/io/#Reader">Reader</a>, pb <a href="../proto/index.html">proto</a>.<a href="../proto/index.html#Message">Message</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
Unmarshal unmarshals a JSON object stream into a protocol
buffer. This function is lenient and will decode any options
permutations of the related Marshaler.
</p>

				
				
				
			
				
				<h3 id="Unmarshaler.UnmarshalNext">func (*Unmarshaler) <a href="http://localhost:6060/src/github.com/golang/protobuf/jsonpb/jsonpb.go?s=18666:18744#L673">UnmarshalNext</a>
					<a class="permalink" href="index.html#Unmarshaler.UnmarshalNext">&#xb6;</a>
					
					
				</h3>
				<pre>func (u *<a href="index.html#Unmarshaler">Unmarshaler</a>) UnmarshalNext(dec *<a href="http://localhost:6060/pkg/encoding/json/">json</a>.<a href="http://localhost:6060/pkg/encoding/json/#Decoder">Decoder</a>, pb <a href="../proto/index.html">proto</a>.<a href="../proto/index.html#Message">Message</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
UnmarshalNext unmarshals the next protocol buffer from a JSON object stream.
This function is lenient and will decode any options permutations of the
related Marshaler.
</p>

				
				
				
			
		
	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<div class="pkg-dir">
		<table>
			<tr>
				<th class="pkg-name">Name</th>
				<th class="pkg-synopsis">Synopsis</th>
			</tr>

			
			<tr>
				<td colspan="2"><a href="../index.html">..</a></td>
			</tr>
			

			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="jsonpb_test_proto/index.html">jsonpb_test_proto</a>
					</td>
				
					<td class="pkg-synopsis">
						
					</td>
				</tr>
			
		</table>
	</div>



<div id="footer">
Build version go1.11.5.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="http://localhost:6060/doc/tos.html">Terms of Service</a> |
<a href="http://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->

</body>
</html>

