<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>watch - The Go Programming Language</title>

<link type="text/css" rel="stylesheet" href="../../../../../lib/godoc/style.css">


<script>window.initFuncs = [];</script>

<script src="../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.11.5";</script>
<script src="../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/">The Go Programming Language</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/">Go</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">
<a href="http://localhost:6060/doc/">Documents</a>
<a href="../../../../index.html">Packages</a>
<a href="http://localhost:6060/project/">The Project</a>
<a href="http://localhost:6060/help/">Help</a>

<a href="http://localhost:6060/blog/">Blog</a>


<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package watch
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/hpcloud/tail/watch"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="index.html#Cleanup">func Cleanup(fname string) error</a></dd>
			
				
				<dd><a href="index.html#Events">func Events(fname string) &lt;-chan fsnotify.Event</a></dd>
			
				
				<dd><a href="index.html#RemoveWatch">func RemoveWatch(fname string) error</a></dd>
			
				
				<dd><a href="index.html#RemoveWatchCreate">func RemoveWatchCreate(fname string) error</a></dd>
			
				
				<dd><a href="index.html#Watch">func Watch(fname string) error</a></dd>
			
				
				<dd><a href="index.html#WatchCreate">func WatchCreate(fname string) error</a></dd>
			
			
				
				<dd><a href="index.html#FileChanges">type FileChanges</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewFileChanges">func NewFileChanges() *FileChanges</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#FileChanges.NotifyDeleted">func (fc *FileChanges) NotifyDeleted()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#FileChanges.NotifyModified">func (fc *FileChanges) NotifyModified()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#FileChanges.NotifyTruncated">func (fc *FileChanges) NotifyTruncated()</a></dd>
				
			
				
				<dd><a href="index.html#FileWatcher">type FileWatcher</a></dd>
				
				
			
				
				<dd><a href="index.html#InotifyFileWatcher">type InotifyFileWatcher</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewInotifyFileWatcher">func NewInotifyFileWatcher(filename string) *InotifyFileWatcher</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#InotifyFileWatcher.BlockUntilExists">func (fw *InotifyFileWatcher) BlockUntilExists(t *tomb.Tomb) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#InotifyFileWatcher.ChangeEvents">func (fw *InotifyFileWatcher) ChangeEvents(t *tomb.Tomb, pos int64) (*FileChanges, error)</a></dd>
				
			
				
				<dd><a href="index.html#InotifyTracker">type InotifyTracker</a></dd>
				
				
			
				
				<dd><a href="index.html#PollingFileWatcher">type PollingFileWatcher</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewPollingFileWatcher">func NewPollingFileWatcher(filename string) *PollingFileWatcher</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PollingFileWatcher.BlockUntilExists">func (fw *PollingFileWatcher) BlockUntilExists(t *tomb.Tomb) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PollingFileWatcher.ChangeEvents">func (fw *PollingFileWatcher) ChangeEvents(t *tomb.Tomb, pos int64) (*FileChanges, error)</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/filechanges.go">filechanges.go</a>
			
				<a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify.go">inotify.go</a>
			
				<a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify_tracker.go">inotify_tracker.go</a>
			
				<a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/polling.go">polling.go</a>
			
				<a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/watch.go">watch.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
			<h2 id="pkg-variables">Variables</h2>
			
				
				<pre>var <span id="POLL_DURATION">POLL_DURATION</span> <a href="http://localhost:6060/pkg/time/">time</a>.<a href="http://localhost:6060/pkg/time/#Duration">Duration</a></pre>
			
		
		
			
			
			<h2 id="Cleanup">func <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify_tracker.go?s=3028:3060#L118">Cleanup</a>
				<a class="permalink" href="index.html#Cleanup">&#xb6;</a>
				
				
			</h2>
			<pre>func Cleanup(fname <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
			<p>
Cleanup removes the watch for the input filename if necessary.
</p>

			
			

		
			
			
			<h2 id="Events">func <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify_tracker.go?s=2834:2881#L110">Events</a>
				<a class="permalink" href="index.html#Events">&#xb6;</a>
				
				
			</h2>
			<pre>func Events(fname <a href="http://localhost:6060/pkg/builtin/#string">string</a>) &lt;-chan fsnotify.<a href="index.html#Event">Event</a></pre>
			<p>
Events returns a channel to which FileEvents corresponding to the input filename
will be sent. This channel will be closed when removeWatch is called on this
filename.
</p>

			
			

		
			
			
			<h2 id="RemoveWatch">func <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify_tracker.go?s=1996:2032#L76">RemoveWatch</a>
				<a class="permalink" href="index.html#RemoveWatch">&#xb6;</a>
				
				
			</h2>
			<pre>func RemoveWatch(fname <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
			<p>
RemoveWatch signals the run goroutine to remove the watch for the input filename
</p>

			
			

		
			
			
			<h2 id="RemoveWatchCreate">func <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify_tracker.go?s=2176:2218#L83">RemoveWatchCreate</a>
				<a class="permalink" href="index.html#RemoveWatchCreate">&#xb6;</a>
				
				
			</h2>
			<pre>func RemoveWatchCreate(fname <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
			<p>
RemoveWatch create signals the run goroutine to remove the watch for the input filename
</p>

			
			

		
			
			
			<h2 id="Watch">func <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify_tracker.go?s=1336:1366#L51">Watch</a>
				<a class="permalink" href="index.html#Watch">&#xb6;</a>
				
				
			</h2>
			<pre>func Watch(fname <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
			<p>
Watch signals the run goroutine to begin watching the input filename
</p>

			
			

		
			
			
			<h2 id="WatchCreate">func <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify_tracker.go?s=1585:1621#L59">WatchCreate</a>
				<a class="permalink" href="index.html#WatchCreate">&#xb6;</a>
				
				
			</h2>
			<pre>func WatchCreate(fname <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
			<p>
Watch create signals the run goroutine to begin watching the input filename
if call the WatchCreate function, don&#39;t call the Cleanup, call the RemoveWatchCreate
</p>

			
			

		
		
			
			
			<h2 id="FileChanges">type <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/filechanges.go?s=15:239#L1">FileChanges</a>
				<a class="permalink" href="index.html#FileChanges">&#xb6;</a>
				
				
			</h2>
			
			<pre>type FileChanges struct {
<span id="FileChanges.Modified"></span>    Modified  chan <a href="http://localhost:6060/pkg/builtin/#bool">bool</a> <span class="comment">// Channel to get notified of modifications</span>
<span id="FileChanges.Truncated"></span>    Truncated chan <a href="http://localhost:6060/pkg/builtin/#bool">bool</a> <span class="comment">// Channel to get notified of truncations</span>
<span id="FileChanges.Deleted"></span>    Deleted   chan <a href="http://localhost:6060/pkg/builtin/#bool">bool</a> <span class="comment">// Channel to get notified of deletions/renames</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewFileChanges">func <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/filechanges.go?s=241:275#L1">NewFileChanges</a>
					<a class="permalink" href="index.html#NewFileChanges">&#xb6;</a>
					
					
				</h3>
				<pre>func NewFileChanges() *<a href="index.html#FileChanges">FileChanges</a></pre>
				
				
				
			

			
				
				<h3 id="FileChanges.NotifyDeleted">func (*FileChanges) <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/filechanges.go?s=517:555#L12">NotifyDeleted</a>
					<a class="permalink" href="index.html#FileChanges.NotifyDeleted">&#xb6;</a>
					
					
				</h3>
				<pre>func (fc *<a href="index.html#FileChanges">FileChanges</a>) NotifyDeleted()</pre>
				
				
				
				
			
				
				<h3 id="FileChanges.NotifyModified">func (*FileChanges) <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/filechanges.go?s=365:404#L4">NotifyModified</a>
					<a class="permalink" href="index.html#FileChanges.NotifyModified">&#xb6;</a>
					
					
				</h3>
				<pre>func (fc *<a href="index.html#FileChanges">FileChanges</a>) NotifyModified()</pre>
				
				
				
				
			
				
				<h3 id="FileChanges.NotifyTruncated">func (*FileChanges) <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/filechanges.go?s=440:480#L8">NotifyTruncated</a>
					<a class="permalink" href="index.html#FileChanges.NotifyTruncated">&#xb6;</a>
					
					
				</h3>
				<pre>func (fc *<a href="index.html#FileChanges">FileChanges</a>) NotifyTruncated()</pre>
				
				
				
				
			
		
			
			
			<h2 id="FileWatcher">type <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/watch.go?s=216:755#L1">FileWatcher</a>
				<a class="permalink" href="index.html#FileWatcher">&#xb6;</a>
				
				
			</h2>
			<p>
FileWatcher monitors file-level events.
</p>

			<pre>type FileWatcher interface {
    <span class="comment">// BlockUntilExists blocks until the file comes into existence.</span>
    BlockUntilExists(*tomb.<a href="index.html#Tomb">Tomb</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a>

    <span class="comment">// ChangeEvents reports on changes to a file, be it modification,</span>
    <span class="comment">// deletion, renames or truncations. Returned FileChanges group of</span>
    <span class="comment">// channels will be closed, thus become unusable, after a deletion</span>
    <span class="comment">// or truncation event.</span>
    <span class="comment">// In order to properly report truncations, ChangeEvents requires</span>
    <span class="comment">// the caller to pass their current offset in the file.</span>
    ChangeEvents(*tomb.<a href="index.html#Tomb">Tomb</a>, <a href="http://localhost:6060/pkg/builtin/#int64">int64</a>) (*<a href="index.html#FileChanges">FileChanges</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="InotifyFileWatcher">type <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify.go?s=335:402#L8">InotifyFileWatcher</a>
				<a class="permalink" href="index.html#InotifyFileWatcher">&#xb6;</a>
				
				
			</h2>
			<p>
InotifyFileWatcher uses inotify to monitor file changes.
</p>

			<pre>type InotifyFileWatcher struct {
<span id="InotifyFileWatcher.Filename"></span>    Filename <a href="http://localhost:6060/pkg/builtin/#string">string</a>
<span id="InotifyFileWatcher.Size"></span>    Size     <a href="http://localhost:6060/pkg/builtin/#int64">int64</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewInotifyFileWatcher">func <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify.go?s=404:467#L13">NewInotifyFileWatcher</a>
					<a class="permalink" href="index.html#NewInotifyFileWatcher">&#xb6;</a>
					
					
				</h3>
				<pre>func NewInotifyFileWatcher(filename <a href="http://localhost:6060/pkg/builtin/#string">string</a>) *<a href="index.html#InotifyFileWatcher">InotifyFileWatcher</a></pre>
				
				
				
			

			
				
				<h3 id="InotifyFileWatcher.BlockUntilExists">func (*InotifyFileWatcher) <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify.go?s=540:606#L18">BlockUntilExists</a>
					<a class="permalink" href="index.html#InotifyFileWatcher.BlockUntilExists">&#xb6;</a>
					
					
				</h3>
				<pre>func (fw *<a href="index.html#InotifyFileWatcher">InotifyFileWatcher</a>) BlockUntilExists(t *tomb.<a href="index.html#Tomb">Tomb</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				
				
				
				
			
				
				<h3 id="InotifyFileWatcher.ChangeEvents">func (*InotifyFileWatcher) <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify.go?s=1378:1467#L58">ChangeEvents</a>
					<a class="permalink" href="index.html#InotifyFileWatcher.ChangeEvents">&#xb6;</a>
					
					
				</h3>
				<pre>func (fw *<a href="index.html#InotifyFileWatcher">InotifyFileWatcher</a>) ChangeEvents(t *tomb.<a href="index.html#Tomb">Tomb</a>, pos <a href="http://localhost:6060/pkg/builtin/#int64">int64</a>) (*<a href="index.html#FileChanges">FileChanges</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				
				
				
				
			
		
			
			
			<h2 id="InotifyTracker">type <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/inotify_tracker.go?s=274:531#L8">InotifyTracker</a>
				<a class="permalink" href="index.html#InotifyTracker">&#xb6;</a>
				
				
			</h2>
			
			<pre>type InotifyTracker struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="PollingFileWatcher">type <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/polling.go?s=286:353#L6">PollingFileWatcher</a>
				<a class="permalink" href="index.html#PollingFileWatcher">&#xb6;</a>
				
				
			</h2>
			<p>
PollingFileWatcher polls the file for changes.
</p>

			<pre>type PollingFileWatcher struct {
<span id="PollingFileWatcher.Filename"></span>    Filename <a href="http://localhost:6060/pkg/builtin/#string">string</a>
<span id="PollingFileWatcher.Size"></span>    Size     <a href="http://localhost:6060/pkg/builtin/#int64">int64</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewPollingFileWatcher">func <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/polling.go?s=355:418#L11">NewPollingFileWatcher</a>
					<a class="permalink" href="index.html#NewPollingFileWatcher">&#xb6;</a>
					
					
				</h3>
				<pre>func NewPollingFileWatcher(filename <a href="http://localhost:6060/pkg/builtin/#string">string</a>) *<a href="index.html#PollingFileWatcher">PollingFileWatcher</a></pre>
				
				
				
			

			
				
				<h3 id="PollingFileWatcher.BlockUntilExists">func (*PollingFileWatcher) <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/polling.go?s=508:574#L18">BlockUntilExists</a>
					<a class="permalink" href="index.html#PollingFileWatcher.BlockUntilExists">&#xb6;</a>
					
					
				</h3>
				<pre>func (fw *<a href="index.html#PollingFileWatcher">PollingFileWatcher</a>) BlockUntilExists(t *tomb.<a href="index.html#Tomb">Tomb</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				
				
				
				
			
				
				<h3 id="PollingFileWatcher.ChangeEvents">func (*PollingFileWatcher) <a href="http://localhost:6060/src/github.com/hpcloud/tail/watch/polling.go?s=835:924#L35">ChangeEvents</a>
					<a class="permalink" href="index.html#PollingFileWatcher.ChangeEvents">&#xb6;</a>
					
					
				</h3>
				<pre>func (fw *<a href="index.html#PollingFileWatcher">PollingFileWatcher</a>) ChangeEvents(t *tomb.<a href="index.html#Tomb">Tomb</a>, pos <a href="http://localhost:6060/pkg/builtin/#int64">int64</a>) (*<a href="index.html#FileChanges">FileChanges</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				
				
				
				
			
		
	

	







<div id="footer">
Build version go1.11.5.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="http://localhost:6060/doc/tos.html">Terms of Service</a> |
<a href="http://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->

</body>
</html>

