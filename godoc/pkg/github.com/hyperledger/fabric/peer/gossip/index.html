<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>gossip - The Go Programming Language</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">


<script>window.initFuncs = [];</script>

<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.11.5";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/">The Go Programming Language</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/">Go</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">
<a href="http://localhost:6060/doc/">Documents</a>
<a href="../../../../../index.html">Packages</a>
<a href="http://localhost:6060/project/">The Project</a>
<a href="http://localhost:6060/help/">Help</a>

<a href="http://localhost:6060/blog/">Blog</a>


<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package gossip
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/hyperledger/fabric/peer/gossip"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
				<dd><a href="index.html#pkg-subdirectories">Subdirectories</a></dd>
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
			
				
				<dd><a href="index.html#NewSecurityAdvisor">func NewSecurityAdvisor(deserializer mgmt.DeserializersManager) api.SecurityAdvisor</a></dd>
			
			
				
				<dd><a href="index.html#MSPMessageCryptoService">type MSPMessageCryptoService</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewMCS">func NewMCS(channelPolicyManagerGetter policies.ChannelPolicyManagerGetter, localSigner crypto.LocalSigner, deserializer mgmt.DeserializersManager) *MSPMessageCryptoService</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MSPMessageCryptoService.Expiration">func (s *MSPMessageCryptoService) Expiration(peerIdentity api.PeerIdentityType) (time.Time, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MSPMessageCryptoService.GetPKIidOfCert">func (s *MSPMessageCryptoService) GetPKIidOfCert(peerIdentity api.PeerIdentityType) common.PKIidType</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MSPMessageCryptoService.Sign">func (s *MSPMessageCryptoService) Sign(msg []byte) ([]byte, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MSPMessageCryptoService.ValidateIdentity">func (s *MSPMessageCryptoService) ValidateIdentity(peerIdentity api.PeerIdentityType) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MSPMessageCryptoService.Verify">func (s *MSPMessageCryptoService) Verify(peerIdentity api.PeerIdentityType, signature, message []byte) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MSPMessageCryptoService.VerifyBlock">func (s *MSPMessageCryptoService) VerifyBlock(chainID common.ChainID, seqNum uint64, signedBlock []byte) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MSPMessageCryptoService.VerifyByChannel">func (s *MSPMessageCryptoService) VerifyByChannel(chainID common.ChainID, peerIdentity api.PeerIdentityType, signature, message []byte) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MSPMessageCryptoService.VerifyHeader">func (s *MSPMessageCryptoService) VerifyHeader(chainID string, signedBlock *pcommon.Block) error</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/mcs.go">mcs.go</a>
			
				<a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/sa.go">sa.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
		
			
			
			<h2 id="NewSecurityAdvisor">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/sa.go?s=850:933#L21">NewSecurityAdvisor</a>
				<a class="permalink" href="index.html#NewSecurityAdvisor">&#xb6;</a>
				
				
			</h2>
			<pre>func NewSecurityAdvisor(deserializer <a href="../../msp/mgmt/index.html">mgmt</a>.<a href="../../msp/mgmt/index.html#DeserializersManager">DeserializersManager</a>) <a href="../../gossip/api/index.html">api</a>.<a href="../../gossip/api/index.html#SecurityAdvisor">SecurityAdvisor</a></pre>
			<p>
NewSecurityAdvisor creates a new instance of mspSecurityAdvisor
that implements MessageCryptoService
</p>

			
			

		
		
			
			
			<h2 id="MSPMessageCryptoService">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/mcs.go?s=1248:1452#L30">MSPMessageCryptoService</a>
				<a class="permalink" href="index.html#MSPMessageCryptoService">&#xb6;</a>
				
				
			</h2>
			<p>
MSPMessageCryptoService implements the MessageCryptoService interface
using the peer MSPs (local and channel-related)
</p>
<p>
In order for the system to be secure it is vital to have the
MSPs to be up-to-date. Channels&#39; MSPs are updated via
configuration transactions distributed by the ordering service.
</p>
<p>
A similar mechanism needs to be in place to update the local MSP, as well.
This implementation assumes that these mechanisms are all in place and working.
</p>

			<pre>type MSPMessageCryptoService struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewMCS">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/mcs.go?s=1791:1963#L42">NewMCS</a>
					<a class="permalink" href="index.html#NewMCS">&#xb6;</a>
					
					
				</h3>
				<pre>func NewMCS(channelPolicyManagerGetter <a href="../../common/policies/index.html">policies</a>.<a href="../../common/policies/index.html#ChannelPolicyManagerGetter">ChannelPolicyManagerGetter</a>, localSigner <a href="../../common/crypto/index.html">crypto</a>.<a href="../../common/crypto/index.html#LocalSigner">LocalSigner</a>, deserializer <a href="../../msp/mgmt/index.html">mgmt</a>.<a href="../../msp/mgmt/index.html#DeserializersManager">DeserializersManager</a>) *<a href="index.html#MSPMessageCryptoService">MSPMessageCryptoService</a></pre>
				<p>
NewMCS creates a new instance of MSPMessageCryptoService
that implements MessageCryptoService.
The method takes in input:
1. a policies.ChannelPolicyManagerGetter that gives access to the policy manager of a given channel via the Manager method.
2. an instance of crypto.LocalSigner
3. an identity deserializer manager
</p>

				
				
			

			
				
				<h3 id="MSPMessageCryptoService.Expiration">func (*MSPMessageCryptoService) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/mcs.go?s=10527:10625#L263">Expiration</a>
					<a class="permalink" href="index.html#MSPMessageCryptoService.Expiration">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#MSPMessageCryptoService">MSPMessageCryptoService</a>) Expiration(peerIdentity <a href="../../gossip/api/index.html">api</a>.<a href="../../gossip/api/index.html#PeerIdentityType">PeerIdentityType</a>) (<a href="http://localhost:6060/pkg/time/">time</a>.<a href="http://localhost:6060/pkg/time/#Time">Time</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				
				
				
				
			
				
				<h3 id="MSPMessageCryptoService.GetPKIidOfCert">func (*MSPMessageCryptoService) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/mcs.go?s=2918:3018#L64">GetPKIidOfCert</a>
					<a class="permalink" href="index.html#MSPMessageCryptoService.GetPKIidOfCert">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#MSPMessageCryptoService">MSPMessageCryptoService</a>) GetPKIidOfCert(peerIdentity <a href="../../gossip/api/index.html">api</a>.<a href="../../gossip/api/index.html#PeerIdentityType">PeerIdentityType</a>) <a href="../../gossip/common/index.html">common</a>.<a href="../../gossip/common/index.html#PKIidType">PKIidType</a></pre>
				<p>
GetPKIidOfCert returns the PKI-ID of a peer&#39;s identity
If any error occurs, the method return nil
The PKid of a peer is computed as the SHA2-256 of peerIdentity which
is supposed to be the serialized version of MSP identity.
This method does not validate peerIdentity.
This validation is supposed to be done appropriately during the execution flow.
</p>

				
				
				
			
				
				<h3 id="MSPMessageCryptoService.Sign">func (*MSPMessageCryptoService) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/mcs.go?s=8272:8338#L204">Sign</a>
					<a class="permalink" href="index.html#MSPMessageCryptoService.Sign">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#MSPMessageCryptoService">MSPMessageCryptoService</a>) Sign(msg []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>) ([]<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				<p>
Sign signs msg with this peer&#39;s signing key and outputs
the signature if no error occurred.
</p>

				
				
				
			
				
				<h3 id="MSPMessageCryptoService.ValidateIdentity">func (*MSPMessageCryptoService) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/mcs.go?s=2263:2354#L49">ValidateIdentity</a>
					<a class="permalink" href="index.html#MSPMessageCryptoService.ValidateIdentity">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#MSPMessageCryptoService">MSPMessageCryptoService</a>) ValidateIdentity(peerIdentity <a href="../../gossip/api/index.html">api</a>.<a href="../../gossip/api/index.html#PeerIdentityType">PeerIdentityType</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
ValidateIdentity validates the identity of a remote peer.
If the identity is invalid, revoked, expired it returns an error.
Else, returns nil
</p>

				
				
				
			
				
				<h3 id="MSPMessageCryptoService.Verify">func (*MSPMessageCryptoService) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/mcs.go?s=8609:8717#L211">Verify</a>
					<a class="permalink" href="index.html#MSPMessageCryptoService.Verify">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#MSPMessageCryptoService">MSPMessageCryptoService</a>) Verify(peerIdentity <a href="../../gossip/api/index.html">api</a>.<a href="../../gossip/api/index.html#PeerIdentityType">PeerIdentityType</a>, signature, message []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
Verify checks that signature is a valid signature of message under a peer&#39;s verification key.
If the verification succeeded, Verify returns nil meaning no error occurred.
If peerIdentity is nil, then the verification fails.
</p>

				
				
				
			
				
				<h3 id="MSPMessageCryptoService.VerifyBlock">func (*MSPMessageCryptoService) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/mcs.go?s=3988:4098#L100">VerifyBlock</a>
					<a class="permalink" href="index.html#MSPMessageCryptoService.VerifyBlock">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#MSPMessageCryptoService">MSPMessageCryptoService</a>) VerifyBlock(chainID <a href="../../gossip/common/index.html">common</a>.<a href="../../gossip/common/index.html#ChainID">ChainID</a>, seqNum <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>, signedBlock []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
VerifyBlock returns nil if the block is properly signed, and the claimed seqNum is the
sequence number that the block&#39;s header contains.
else returns error
</p>

				
				
				
			
				
				<h3 id="MSPMessageCryptoService.VerifyByChannel">func (*MSPMessageCryptoService) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/mcs.go?s=9592:9733#L237">VerifyByChannel</a>
					<a class="permalink" href="index.html#MSPMessageCryptoService.VerifyByChannel">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#MSPMessageCryptoService">MSPMessageCryptoService</a>) VerifyByChannel(chainID <a href="../../gossip/common/index.html">common</a>.<a href="../../gossip/common/index.html#ChainID">ChainID</a>, peerIdentity <a href="../../gossip/api/index.html">api</a>.<a href="../../gossip/api/index.html#PeerIdentityType">PeerIdentityType</a>, signature, message []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
VerifyByChannel checks that signature is a valid signature of message
under a peer&#39;s verification key, but also in the context of a specific channel.
If the verification succeeded, Verify returns nil meaning no error occurred.
If peerIdentity is nil, then the verification fails.
</p>

				
				
				
			
				
				<h3 id="MSPMessageCryptoService.VerifyHeader">func (*MSPMessageCryptoService) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/peer/gossip/mcs.go?s=7321:7417#L180">VerifyHeader</a>
					<a class="permalink" href="index.html#MSPMessageCryptoService.VerifyHeader">&#xb6;</a>
					
					
				</h3>
				<pre>func (s *<a href="index.html#MSPMessageCryptoService">MSPMessageCryptoService</a>) VerifyHeader(chainID <a href="http://localhost:6060/pkg/builtin/#string">string</a>, signedBlock *<a href="../../protos/common/index.html">pcommon</a>.<a href="../../protos/common/index.html#Block">Block</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				
				
				
				
			
		
	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<div class="pkg-dir">
		<table>
			<tr>
				<th class="pkg-name">Name</th>
				<th class="pkg-synopsis">Synopsis</th>
			</tr>

			
			<tr>
				<td colspan="2"><a href="../index.html">..</a></td>
			</tr>
			

			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="mocks/index.html">mocks</a>
					</td>
				
					<td class="pkg-synopsis">
						
					</td>
				</tr>
			
		</table>
	</div>



<div id="footer">
Build version go1.11.5.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="http://localhost:6060/doc/tos.html">Terms of Service</a> |
<a href="http://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->

</body>
</html>

