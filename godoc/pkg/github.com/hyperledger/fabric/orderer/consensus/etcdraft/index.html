<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>etcdraft - The Go Programming Language</title>

<link type="text/css" rel="stylesheet" href="../../../../../../../lib/godoc/style.css">


<script>window.initFuncs = [];</script>

<script src="../../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.11.5";</script>
<script src="../../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/">The Go Programming Language</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/">Go</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">
<a href="http://localhost:6060/doc/">Documents</a>
<a href="../../../../../../index.html">Packages</a>
<a href="http://localhost:6060/project/">The Project</a>
<a href="http://localhost:6060/help/">Help</a>

<a href="http://localhost:6060/blog/">Blog</a>


<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package etcdraft
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/hyperledger/fabric/orderer/consensus/etcdraft"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
				<dd><a href="index.html#pkg-subdirectories">Subdirectories</a></dd>
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="index.html#CheckConfigMetadata">func CheckConfigMetadata(metadata *etcdraft.ConfigMetadata) error</a></dd>
			
				
				<dd><a href="index.html#ConfChange">func ConfChange(blockMetadata *etcdraft.BlockMetadata, confState *raftpb.ConfState) *raftpb.ConfChange</a></dd>
			
				
				<dd><a href="index.html#ConfigChannelHeader">func ConfigChannelHeader(block *common.Block) (hdr *common.ChannelHeader, err error)</a></dd>
			
				
				<dd><a href="index.html#ConfigEnvelopeFromBlock">func ConfigEnvelopeFromBlock(block *common.Block) (*common.Envelope, error)</a></dd>
			
				
				<dd><a href="index.html#ConsensusMetadataFromConfigBlock">func ConsensusMetadataFromConfigBlock(block *common.Block) (*etcdraft.ConfigMetadata, error)</a></dd>
			
				
				<dd><a href="index.html#ConsentersToMap">func ConsentersToMap(consenters []*etcdraft.Consenter) map[string]struct{}</a></dd>
			
				
				<dd><a href="index.html#EndpointconfigFromFromSupport">func EndpointconfigFromFromSupport(support consensus.ConsenterSupport) ([]cluster.EndpointCriteria, error)</a></dd>
			
				
				<dd><a href="index.html#ListSnapshots">func ListSnapshots(logger *flogging.FabricLogger, snapDir string) []uint64</a></dd>
			
				
				<dd><a href="index.html#MembershipByCert">func MembershipByCert(consenters map[uint64]*etcdraft.Consenter) map[string]uint64</a></dd>
			
				
				<dd><a href="index.html#MetadataFromConfigUpdate">func MetadataFromConfigUpdate(update *common.ConfigUpdate) (*etcdraft.ConfigMetadata, error)</a></dd>
			
				
				<dd><a href="index.html#MetadataFromConfigValue">func MetadataFromConfigValue(configValue *common.ConfigValue) (*etcdraft.ConfigMetadata, error)</a></dd>
			
				
				<dd><a href="index.html#MetadataHasDuplication">func MetadataHasDuplication(md *etcdraft.ConfigMetadata) error</a></dd>
			
				
				<dd><a href="index.html#NodeExists">func NodeExists(id uint64, nodes []uint64) bool</a></dd>
			
				
				<dd><a href="index.html#RaftPeers">func RaftPeers(consenterIDs []uint64) []raft.Peer</a></dd>
			
				
				<dd><a href="index.html#ReadBlockMetadata">func ReadBlockMetadata(blockMetadata *common.Metadata, configMetadata *etcdraft.ConfigMetadata) (*etcdraft.BlockMetadata, error)</a></dd>
			
			
				
				<dd><a href="index.html#BlockPuller">type BlockPuller</a></dd>
				
				
			
				
				<dd><a href="index.html#Chain">type Chain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewChain">func NewChain(support consensus.ConsenterSupport, opts Options, conf Configurator, rpc RPC, f CreateBlockPuller, haltCallback func(), observeC chan&lt;- raft.SoftState) (*Chain, error)</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Chain.Configure">func (c *Chain) Configure(env *common.Envelope, configSeq uint64) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Chain.Consensus">func (c *Chain) Consensus(req *orderer.ConsensusRequest, sender uint64) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Chain.Errored">func (c *Chain) Errored() &lt;-chan struct{}</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Chain.Halt">func (c *Chain) Halt()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Chain.Order">func (c *Chain) Order(env *common.Envelope, configSeq uint64) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Chain.Start">func (c *Chain) Start()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Chain.Submit">func (c *Chain) Submit(req *orderer.SubmitRequest, sender uint64) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Chain.WaitReady">func (c *Chain) WaitReady() error</a></dd>
				
			
				
				<dd><a href="index.html#ChainGetter">type ChainGetter</a></dd>
				
				
			
				
				<dd><a href="index.html#Config">type Config</a></dd>
				
				
			
				
				<dd><a href="index.html#Configurator">type Configurator</a></dd>
				
				
			
				
				<dd><a href="index.html#Consenter">type Consenter</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#New">func New(clusterDialer *cluster.PredicateDialer, conf *localconfig.TopLevel, srvConf comm.ServerConfig, srv *comm.GRPCServer, r *multichannel.Registrar, icr InactiveChainRegistry, metricsProvider metrics.Provider) *Consenter</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Consenter.HandleChain">func (c *Consenter) HandleChain(support consensus.ConsenterSupport, metadata *common.Metadata) (consensus.Chain, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Consenter.ReceiverByChain">func (c *Consenter) ReceiverByChain(channelID string) MessageReceiver</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Consenter.TargetChannel">func (c *Consenter) TargetChannel(message proto.Message) string</a></dd>
				
			
				
				<dd><a href="index.html#ConsenterCertificate">type ConsenterCertificate</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ConsenterCertificate.IsConsenterOfChannel">func (conCert ConsenterCertificate) IsConsenterOfChannel(configBlock *common.Block) error</a></dd>
				
			
				
				<dd><a href="index.html#CreateBlockPuller">type CreateBlockPuller</a></dd>
				
				
			
				
				<dd><a href="index.html#CreateChainCallback">type CreateChainCallback</a></dd>
				
				
			
				
				<dd><a href="index.html#Dispatcher">type Dispatcher</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Dispatcher.OnConsensus">func (d *Dispatcher) OnConsensus(channel string, sender uint64, request *orderer.ConsensusRequest) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Dispatcher.OnSubmit">func (d *Dispatcher) OnSubmit(channel string, sender uint64, request *orderer.SubmitRequest) error</a></dd>
				
			
				
				<dd><a href="index.html#InactiveChainRegistry">type InactiveChainRegistry</a></dd>
				
				
			
				
				<dd><a href="index.html#LedgerBlockPuller">type LedgerBlockPuller</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#LedgerBlockPuller.PullBlock">func (ledgerPuller *LedgerBlockPuller) PullBlock(seq uint64) *common.Block</a></dd>
				
			
				
				<dd><a href="index.html#MembershipChanges">type MembershipChanges</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ComputeMembershipChanges">func ComputeMembershipChanges(oldMetadata *etcdraft.BlockMetadata, oldConsenters map[uint64]*etcdraft.Consenter, newConsenters []*etcdraft.Consenter) (mc *MembershipChanges, err error)</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MembershipChanges.Changed">func (mc *MembershipChanges) Changed() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MembershipChanges.Rotated">func (mc *MembershipChanges) Rotated() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MembershipChanges.String">func (mc *MembershipChanges) String() string</a></dd>
				
			
				
				<dd><a href="index.html#MemoryStorage">type MemoryStorage</a></dd>
				
				
			
				
				<dd><a href="index.html#MessageReceiver">type MessageReceiver</a></dd>
				
				
			
				
				<dd><a href="index.html#Metrics">type Metrics</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewMetrics">func NewMetrics(p metrics.Provider) *Metrics</a></dd>
				
				
			
				
				<dd><a href="index.html#Options">type Options</a></dd>
				
				
			
				
				<dd><a href="index.html#PeriodicCheck">type PeriodicCheck</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PeriodicCheck.Run">func (pc *PeriodicCheck) Run()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PeriodicCheck.Stop">func (pc *PeriodicCheck) Stop()</a></dd>
				
			
				
				<dd><a href="index.html#RPC">type RPC</a></dd>
				
				
			
				
				<dd><a href="index.html#RaftStorage">type RaftStorage</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CreateStorage">func CreateStorage(lg *flogging.FabricLogger, walDir string, snapDir string, ram MemoryStorage) (*RaftStorage, error)</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RaftStorage.ApplySnapshot">func (rs *RaftStorage) ApplySnapshot(snap raftpb.Snapshot)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RaftStorage.Close">func (rs *RaftStorage) Close() error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RaftStorage.Snapshot">func (rs *RaftStorage) Snapshot() raftpb.Snapshot</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RaftStorage.Store">func (rs *RaftStorage) Store(entries []raftpb.Entry, hardstate raftpb.HardState, snapshot raftpb.Snapshot) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RaftStorage.TakeSnapshot">func (rs *RaftStorage) TakeSnapshot(i uint64, cs raftpb.ConfState, data []byte) error</a></dd>
				
			
				
				<dd><a href="index.html#ReceiverGetter">type ReceiverGetter</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/blockcreator.go">blockcreator.go</a>
			
				<a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go">chain.go</a>
			
				<a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter.go">consenter.go</a>
			
				<a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/dispatcher.go">dispatcher.go</a>
			
				<a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/metrics.go">metrics.go</a>
			
				<a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/node.go">node.go</a>
			
				<a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/storage.go">storage.go</a>
			
				<a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go">util.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const (
    <span id="BYTE">BYTE</span> = 1 &lt;&lt; (10 * <a href="http://localhost:6060/pkg/builtin/#iota">iota</a>)
    <span id="KILOBYTE">KILOBYTE</span>
    <span id="MEGABYTE">MEGABYTE</span>
    <span id="GIGABYTE">GIGABYTE</span>
    <span id="TERABYTE">TERABYTE</span>
)</pre>
			
				
				<pre>const (
    <span class="comment">// DefaultSnapshotCatchUpEntries is the default number of entries</span>
    <span class="comment">// to preserve in memory when a snapshot is taken. This is for</span>
    <span class="comment">// slow followers to catch up.</span>
    <span id="DefaultSnapshotCatchUpEntries">DefaultSnapshotCatchUpEntries</span> = <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>(20)

    <span class="comment">// DefaultSnapshotIntervalSize is the default snapshot interval. It is</span>
    <span class="comment">// used if SnapshotIntervalSize is not provided in channel config options.</span>
    <span class="comment">// It is needed to enforce snapshot being set.</span>
    <span id="DefaultSnapshotIntervalSize">DefaultSnapshotIntervalSize</span> = 20 * <a href="index.html#MEGABYTE">MEGABYTE</a> <span class="comment">// 20 MB</span>

    <span class="comment">// DefaultEvictionSuspicion is the threshold that a node will start</span>
    <span class="comment">// suspecting its own eviction if it has been leaderless for this</span>
    <span class="comment">// period of time.</span>
    <span id="DefaultEvictionSuspicion">DefaultEvictionSuspicion</span> = <a href="http://localhost:6060/pkg/time/">time</a>.<a href="http://localhost:6060/pkg/time/#Minute">Minute</a> * 10

    <span class="comment">// DefaultLeaderlessCheckInterval is the interval that a chain checks</span>
    <span class="comment">// its own leadership status.</span>
    <span id="DefaultLeaderlessCheckInterval">DefaultLeaderlessCheckInterval</span> = <a href="http://localhost:6060/pkg/time/">time</a>.<a href="http://localhost:6060/pkg/time/#Second">Second</a> * 10
)</pre>
			
		
		
			<h2 id="pkg-variables">Variables</h2>
			
				<p>
MaxSnapshotFiles defines max number of etcd/raft snapshot files to retain
on filesystem. Snapshot files are read from newest to oldest, until first
intact file is found. The more snapshot files we keep around, the more we
mitigate the impact of a corrupted snapshots. This is exported for testing
purpose. This MUST be greater equal than 1.
</p>

				<pre>var <span id="MaxSnapshotFiles">MaxSnapshotFiles</span> = 5</pre>
			
		
		
			
			
			<h2 id="CheckConfigMetadata">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=12853:12918#L371">CheckConfigMetadata</a>
				<a class="permalink" href="index.html#CheckConfigMetadata">&#xb6;</a>
				
				
			</h2>
			<pre>func CheckConfigMetadata(metadata *<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#ConfigMetadata">ConfigMetadata</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
			<p>
CheckConfigMetadata validates Raft config metadata
</p>

			
			

		
			
			
			<h2 id="ConfChange">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=16408:16510#L483">ConfChange</a>
				<a class="permalink" href="index.html#ConfChange">&#xb6;</a>
				
				
			</h2>
			<pre>func ConfChange(blockMetadata *<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#BlockMetadata">BlockMetadata</a>, confState *<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#ConfState">ConfState</a>) *<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#ConfChange">ConfChange</a></pre>
			<p>
ConfChange computes Raft configuration changes based on current Raft
configuration state and consenters IDs stored in RaftMetadata.
</p>

			
			

		
			
			
			<h2 id="ConfigChannelHeader">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=10308:10392#L292">ConfigChannelHeader</a>
				<a class="permalink" href="index.html#ConfigChannelHeader">&#xb6;</a>
				
				
			</h2>
			<pre>func ConfigChannelHeader(block *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#Block">Block</a>) (hdr *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#ChannelHeader">ChannelHeader</a>, err <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
			<p>
ConfigChannelHeader expects a config block and returns the header type
of the config envelope wrapped in it, e.g. HeaderType_ORDERER_TRANSACTION
</p>

			
			

		
			
			
			<h2 id="ConfigEnvelopeFromBlock">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=10870:10945#L308">ConfigEnvelopeFromBlock</a>
				<a class="permalink" href="index.html#ConfigEnvelopeFromBlock">&#xb6;</a>
				
				
			</h2>
			<pre>func ConfigEnvelopeFromBlock(block *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#Block">Block</a>) (*<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#Envelope">Envelope</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
			<p>
ConfigEnvelopeFromBlock extracts configuration envelope from the block based on the
config type, i.e. HeaderType_ORDERER_TRANSACTION or HeaderType_CONFIG
</p>

			
			

		
			
			
			<h2 id="ConsensusMetadataFromConfigBlock">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=12038:12130#L343">ConsensusMetadataFromConfigBlock</a>
				<a class="permalink" href="index.html#ConsensusMetadataFromConfigBlock">&#xb6;</a>
				
				
			</h2>
			<pre>func ConsensusMetadataFromConfigBlock(block *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#Block">Block</a>) (*<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#ConfigMetadata">ConfigMetadata</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
			<p>
ConsensusMetadataFromConfigBlock reads consensus metadata updates from the configuration block
</p>

			
			

		
			
			
			<h2 id="ConsentersToMap">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=4445:4519#L134">ConsentersToMap</a>
				<a class="permalink" href="index.html#ConsentersToMap">&#xb6;</a>
				
				
			</h2>
			<pre>func ConsentersToMap(consenters []*<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#Consenter">Consenter</a>) map[<a href="http://localhost:6060/pkg/builtin/#string">string</a>]struct{}</pre>
			<p>
ConsentersToMap maps consenters into set where key is client TLS certificate
</p>

			
			

		
			
			
			<h2 id="EndpointconfigFromFromSupport">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=1835:1941#L51">EndpointconfigFromFromSupport</a>
				<a class="permalink" href="index.html#EndpointconfigFromFromSupport">&#xb6;</a>
				
				
			</h2>
			<pre>func EndpointconfigFromFromSupport(support <a href="../index.html">consensus</a>.<a href="../index.html#ConsenterSupport">ConsenterSupport</a>) ([]<a href="../../common/cluster/index.html">cluster</a>.<a href="../../common/cluster/index.html#EndpointCriteria">EndpointCriteria</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
			<p>
EndpointconfigFromFromSupport extracts TLS CA certificates and endpoints from the ConsenterSupport
</p>

			
			

		
			
			
			<h2 id="ListSnapshots">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/storage.go?s=3463:3537#L112">ListSnapshots</a>
				<a class="permalink" href="index.html#ListSnapshots">&#xb6;</a>
				
				
			</h2>
			<pre>func ListSnapshots(logger *<a href="../../../common/flogging/index.html">flogging</a>.<a href="../../../common/flogging/index.html#FabricLogger">FabricLogger</a>, snapDir <a href="http://localhost:6060/pkg/builtin/#string">string</a>) []<a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a></pre>
			<p>
ListSnapshots returns a list of RaftIndex of snapshots stored on disk.
If a file is corrupted, rename the file.
</p>

			
			

		
			
			
			<h2 id="MembershipByCert">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=4757:4839#L144">MembershipByCert</a>
				<a class="permalink" href="index.html#MembershipByCert">&#xb6;</a>
				
				
			</h2>
			<pre>func MembershipByCert(consenters map[<a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>]*<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#Consenter">Consenter</a>) map[<a href="http://localhost:6060/pkg/builtin/#string">string</a>]<a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a></pre>
			<p>
MembershipByCert convert consenters map into set encapsulated by map
where key is client TLS certificate
</p>

			
			

		
			
			
			<h2 id="MetadataFromConfigUpdate">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=9324:9416#L265">MetadataFromConfigUpdate</a>
				<a class="permalink" href="index.html#MetadataFromConfigUpdate">&#xb6;</a>
				
				
			</h2>
			<pre>func MetadataFromConfigUpdate(update *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#ConfigUpdate">ConfigUpdate</a>) (*<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#ConfigMetadata">ConfigMetadata</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
			<p>
MetadataFromConfigUpdate extracts consensus metadata from config update
</p>

			
			

		
			
			
			<h2 id="MetadataFromConfigValue">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=8667:8762#L250">MetadataFromConfigValue</a>
				<a class="permalink" href="index.html#MetadataFromConfigValue">&#xb6;</a>
				
				
			</h2>
			<pre>func MetadataFromConfigValue(configValue *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#ConfigValue">ConfigValue</a>) (*<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#ConfigMetadata">ConfigMetadata</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
			<p>
MetadataFromConfigValue reads and translates configuration updates from config value into raft metadata
</p>

			
			

		
			
			
			<h2 id="MetadataHasDuplication">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=7816:7878#L222">MetadataHasDuplication</a>
				<a class="permalink" href="index.html#MetadataHasDuplication">&#xb6;</a>
				
				
			</h2>
			<pre>func MetadataHasDuplication(md *<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#ConfigMetadata">ConfigMetadata</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
			<p>
MetadataHasDuplication returns an error if the metadata has duplication of consenters.
A duplication is defined by having a server or a client TLS certificate that is found
in two different consenters, regardless of the type of certificate (client/server).
</p>

			
			

		
			
			
			<h2 id="NodeExists">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=16129:16176#L472">NodeExists</a>
				<a class="permalink" href="index.html#NodeExists">&#xb6;</a>
				
				
			</h2>
			<pre>func NodeExists(id <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>, nodes []<a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>) <a href="http://localhost:6060/pkg/builtin/#bool">bool</a></pre>
			<p>
NodeExists returns trues if node id exists in the slice
and false otherwise
</p>

			
			

		
			
			
			<h2 id="RaftPeers">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=4183:4232#L124">RaftPeers</a>
				<a class="permalink" href="index.html#RaftPeers">&#xb6;</a>
				
				
			</h2>
			<pre>func RaftPeers(consenterIDs []<a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>) []<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/">raft</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/#Peer">Peer</a></pre>
			<p>
RaftPeers maps consenters to slice of raft.Peer
</p>

			
			

		
			
			
			<h2 id="ReadBlockMetadata">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter.go?s=7927:8055#L224">ReadBlockMetadata</a>
				<a class="permalink" href="index.html#ReadBlockMetadata">&#xb6;</a>
				
				
			</h2>
			<pre>func ReadBlockMetadata(blockMetadata *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#Metadata">Metadata</a>, configMetadata *<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#ConfigMetadata">ConfigMetadata</a>) (*<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#BlockMetadata">BlockMetadata</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
			<p>
ReadBlockMetadata attempts to read raft metadata from block metadata, if available.
otherwise, it reads raft metadata from config metadata supplied.
</p>

			
			

		
		
			
			
			<h2 id="BlockPuller">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=2288:2413#L71">BlockPuller</a>
				<a class="permalink" href="index.html#BlockPuller">&#xb6;</a>
				
				
			</h2>
			<p>
BlockPuller is used to pull blocks from other OSN
</p>

			<pre>type BlockPuller interface {
    PullBlock(seq <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>) *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#Block">Block</a>
    HeightsByEndpoints() (map[<a href="http://localhost:6060/pkg/builtin/#string">string</a>]<a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)
    Close()
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Chain">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=3778:5558#L131">Chain</a>
				<a class="permalink" href="index.html#Chain">&#xb6;</a>
				
				
			</h2>
			<p>
Chain implements consensus.Chain interface.
</p>

			<pre>type Chain struct {

    <span class="comment">// this is exported so that test can use `Node.Status()` to get raft node status.</span>
<span id="Chain.Node"></span>    Node *node

<span id="Chain.Metrics"></span>    Metrics *<a href="index.html#Metrics">Metrics</a>
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewChain">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=5599:5788#L189">NewChain</a>
					<a class="permalink" href="index.html#NewChain">&#xb6;</a>
					
					
				</h3>
				<pre>func NewChain(
    support <a href="../index.html">consensus</a>.<a href="../index.html#ConsenterSupport">ConsenterSupport</a>,
    opts <a href="index.html#Options">Options</a>,
    conf <a href="index.html#Configurator">Configurator</a>,
    rpc <a href="index.html#RPC">RPC</a>,
    f <a href="index.html#CreateBlockPuller">CreateBlockPuller</a>,
    haltCallback func(),
    observeC chan&lt;- <a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/">raft</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/#SoftState">SoftState</a>) (*<a href="index.html#Chain">Chain</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				<p>
NewChain constructs a chain object.
</p>

				
				
			

			
				
				<h3 id="Chain.Configure">func (*Chain) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=11128:11199#L355">Configure</a>
					<a class="permalink" href="index.html#Chain.Configure">&#xb6;</a>
					
					
				</h3>
				<pre>func (c *<a href="index.html#Chain">Chain</a>) Configure(env *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#Envelope">Envelope</a>, configSeq <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
Configure submits config type transactions for ordering.
</p>

				
				
				
			
				
				<h3 id="Chain.Consensus">func (*Chain) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=14612:14689#L504">Consensus</a>
					<a class="permalink" href="index.html#Chain.Consensus">&#xb6;</a>
					
					
				</h3>
				<pre>func (c *<a href="index.html#Chain">Chain</a>) Consensus(req *<a href="../../../protos/orderer/index.html">orderer</a>.<a href="../../../protos/orderer/index.html#ConsensusRequest">ConsensusRequest</a>, sender <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
Consensus passes the given ConsensusRequest message to the raft.Node instance
</p>

				
				
				
			
				
				<h3 id="Chain.Errored">func (*Chain) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=13890:13931#L460">Errored</a>
					<a class="permalink" href="index.html#Chain.Errored">&#xb6;</a>
					
					
				</h3>
				<pre>func (c *<a href="index.html#Chain">Chain</a>) Errored() &lt;-chan struct{}</pre>
				<p>
Errored returns a channel that closes when the chain stops.
</p>

				
				
				
			
				
				<h3 id="Chain.Halt">func (*Chain) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=14031:14053#L467">Halt</a>
					<a class="permalink" href="index.html#Chain.Halt">&#xb6;</a>
					
					
				</h3>
				<pre>func (c *<a href="index.html#Chain">Chain</a>) Halt()</pre>
				<p>
Halt stops the chain.
</p>

				
				
				
			
				
				<h3 id="Chain.Order">func (*Chain) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=10843:10910#L349">Order</a>
					<a class="permalink" href="index.html#Chain.Order">&#xb6;</a>
					
					
				</h3>
				<pre>func (c *<a href="index.html#Chain">Chain</a>) Order(env *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#Envelope">Envelope</a>, configSeq <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
Order submits normal type transactions for ordering.
</p>

				
				
				
			
				
				<h3 id="Chain.Start">func (*Chain) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=9908:9931#L310">Start</a>
					<a class="permalink" href="index.html#Chain.Start">&#xb6;</a>
					
					
				</h3>
				<pre>func (c *<a href="index.html#Chain">Chain</a>) Start()</pre>
				<p>
Start instructs the orderer to begin serving the chain and keep it current.
</p>

				
				
				
			
				
				<h3 id="Chain.Submit">func (*Chain) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=15286:15357#L525">Submit</a>
					<a class="permalink" href="index.html#Chain.Submit">&#xb6;</a>
					
					
				</h3>
				<pre>func (c *<a href="index.html#Chain">Chain</a>) Submit(req *<a href="../../../protos/orderer/index.html">orderer</a>.<a href="../../../protos/orderer/index.html#SubmitRequest">SubmitRequest</a>, sender <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
Submit forwards the incoming request to:
- the local serveRequest goroutine if this is leader
- the actual leader via the transport mechanism
The call fails if there&#39;s no leader elected yet.
</p>

				
				
				
			
				
				<h3 id="Chain.WaitReady">func (*Chain) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=13622:13655#L445">WaitReady</a>
					<a class="permalink" href="index.html#Chain.WaitReady">&#xb6;</a>
					
					
				</h3>
				<pre>func (c *<a href="index.html#Chain">Chain</a>) WaitReady() <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
WaitReady blocks when the chain:
- is catching up with other nodes using snapshot
</p>
<p>
In any other case, it returns right away.
</p>

				
				
				
			
		
			
			
			<h2 id="ChainGetter">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter.go?s=1525:1753#L38">ChainGetter</a>
				<a class="permalink" href="index.html#ChainGetter">&#xb6;</a>
				
				
			</h2>
			<p>
ChainGetter obtains instances of ChainSupport for the given channel
</p>

			<pre>type ChainGetter interface {
    <span class="comment">// GetChain obtains the ChainSupport for the given channel.</span>
    <span class="comment">// Returns nil, false when the ChainSupport for the given channel</span>
    <span class="comment">// isn&#39;t found.</span>
    GetChain(chainID <a href="http://localhost:6060/pkg/builtin/#string">string</a>) *<a href="../../common/multichannel/index.html">multichannel</a>.<a href="../../common/multichannel/index.html#ChainSupport">ChainSupport</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Config">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter.go?s=1798:2118#L46">Config</a>
				<a class="permalink" href="index.html#Config">&#xb6;</a>
				
				
			</h2>
			<p>
Config contains etcdraft configurations
</p>

			<pre>type Config struct {
<span id="Config.WALDir"></span>    WALDir            <a href="http://localhost:6060/pkg/builtin/#string">string</a> <span class="comment">// WAL data of &lt;my-channel&gt; is stored in WALDir/&lt;my-channel&gt;</span>
<span id="Config.SnapDir"></span>    SnapDir           <a href="http://localhost:6060/pkg/builtin/#string">string</a> <span class="comment">// Snapshots of &lt;my-channel&gt; are stored in SnapDir/&lt;my-channel&gt;</span>
<span id="Config.EvictionSuspicion"></span>    EvictionSuspicion <a href="http://localhost:6060/pkg/builtin/#string">string</a> <span class="comment">// Duration threshold that the node samples in order to suspect its eviction from the channel.</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Configurator">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=1811:1900#L56">Configurator</a>
				<a class="permalink" href="index.html#Configurator">&#xb6;</a>
				
				
			</h2>
			<p>
Configurator is used to configure the communication layer
when the chain starts.
</p>

			<pre>type Configurator interface {
    Configure(channel <a href="http://localhost:6060/pkg/builtin/#string">string</a>, newNodes []<a href="../../common/cluster/index.html">cluster</a>.<a href="../../common/cluster/index.html#RemoteNode">RemoteNode</a>)
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Consenter">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter.go?s=2163:2559#L53">Consenter</a>
				<a class="permalink" href="index.html#Consenter">&#xb6;</a>
				
				
			</h2>
			<p>
Consenter implements etcdraft consenter
</p>

			<pre>type Consenter struct {
<span id="Consenter.CreateChain"></span>    CreateChain           func(chainName <a href="http://localhost:6060/pkg/builtin/#string">string</a>)
<span id="Consenter.InactiveChainRegistry"></span>    InactiveChainRegistry <a href="index.html#InactiveChainRegistry">InactiveChainRegistry</a>
<span id="Consenter.Dialer"></span>    Dialer                *<a href="../../common/cluster/index.html">cluster</a>.<a href="../../common/cluster/index.html#PredicateDialer">PredicateDialer</a>
<span id="Consenter.Communication"></span>    Communication         <a href="../../common/cluster/index.html">cluster</a>.<a href="../../common/cluster/index.html#Communicator">Communicator</a>
    *<a href="index.html#Dispatcher">Dispatcher</a>
<span id="Consenter.Chains"></span>    Chains         <a href="index.html#ChainGetter">ChainGetter</a>
<span id="Consenter.Logger"></span>    Logger         *<a href="../../../common/flogging/index.html">flogging</a>.<a href="../../../common/flogging/index.html#FabricLogger">FabricLogger</a>
<span id="Consenter.EtcdRaftConfig"></span>    EtcdRaftConfig <a href="index.html#Config">Config</a>
<span id="Consenter.OrdererConfig"></span>    OrdererConfig  <a href="../../common/localconfig/index.html">localconfig</a>.<a href="../../common/localconfig/index.html#TopLevel">TopLevel</a>
<span id="Consenter.Cert"></span>    Cert           []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>
<span id="Consenter.Metrics"></span>    Metrics        *<a href="index.html#Metrics">Metrics</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="New">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter.go?s=8681:8915#L247">New</a>
					<a class="permalink" href="index.html#New">&#xb6;</a>
					
					
				</h3>
				<pre>func New(
    clusterDialer *<a href="../../common/cluster/index.html">cluster</a>.<a href="../../common/cluster/index.html#PredicateDialer">PredicateDialer</a>,
    conf *<a href="../../common/localconfig/index.html">localconfig</a>.<a href="../../common/localconfig/index.html#TopLevel">TopLevel</a>,
    srvConf <a href="../../../core/comm/index.html">comm</a>.<a href="../../../core/comm/index.html#ServerConfig">ServerConfig</a>,
    srv *<a href="../../../core/comm/index.html">comm</a>.<a href="../../../core/comm/index.html#GRPCServer">GRPCServer</a>,
    r *<a href="../../common/multichannel/index.html">multichannel</a>.<a href="../../common/multichannel/index.html#Registrar">Registrar</a>,
    icr <a href="index.html#InactiveChainRegistry">InactiveChainRegistry</a>,
    metricsProvider <a href="../../../common/metrics/index.html">metrics</a>.<a href="../../../common/metrics/index.html#Provider">Provider</a>,
) *<a href="index.html#Consenter">Consenter</a></pre>
				<p>
New creates a etcdraft Consenter
</p>

				
				
			

			
				
				<h3 id="Consenter.HandleChain">func (*Consenter) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter.go?s=4213:4332#L122">HandleChain</a>
					<a class="permalink" href="index.html#Consenter.HandleChain">&#xb6;</a>
					
					
				</h3>
				<pre>func (c *<a href="index.html#Consenter">Consenter</a>) HandleChain(support <a href="../index.html">consensus</a>.<a href="../index.html#ConsenterSupport">ConsenterSupport</a>, metadata *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#Metadata">Metadata</a>) (<a href="../index.html">consensus</a>.<a href="../index.html#Chain">Chain</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				<p>
HandleChain returns a new Chain instance or an error upon failure
</p>

				
				
				
			
				
				<h3 id="Consenter.ReceiverByChain">func (*Consenter) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter.go?s=2994:3063#L82">ReceiverByChain</a>
					<a class="permalink" href="index.html#Consenter.ReceiverByChain">&#xb6;</a>
					
					
				</h3>
				<pre>func (c *<a href="index.html#Consenter">Consenter</a>) ReceiverByChain(channelID <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="index.html#MessageReceiver">MessageReceiver</a></pre>
				<p>
ReceiverByChain returns the MessageReceiver for the given channelID or nil
if not found.
</p>

				
				
				
			
				
				<h3 id="Consenter.TargetChannel">func (*Consenter) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter.go?s=2668:2731#L69">TargetChannel</a>
					<a class="permalink" href="index.html#Consenter.TargetChannel">&#xb6;</a>
					
					
				</h3>
				<pre>func (c *<a href="index.html#Consenter">Consenter</a>) TargetChannel(message <a href="../../../../../golang/protobuf/proto/index.html">proto</a>.<a href="../../../../../golang/protobuf/proto/index.html#Message">Message</a>) <a href="http://localhost:6060/pkg/builtin/#string">string</a></pre>
				<p>
TargetChannel extracts the channel from the given proto.Message.
Returns an empty string on failure.
</p>

				
				
				
			
		
			
			
			<h2 id="ConsenterCertificate">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=14969:15001#L433">ConsenterCertificate</a>
				<a class="permalink" href="index.html#ConsenterCertificate">&#xb6;</a>
				
				
			</h2>
			<p>
ConsenterCertificate denotes a TLS certificate of a consenter
</p>

			<pre>type ConsenterCertificate []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a></pre>

			

			

			
			
			

			

			
				
				<h3 id="ConsenterCertificate.IsConsenterOfChannel">func (ConsenterCertificate) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=15180:15269#L438">IsConsenterOfChannel</a>
					<a class="permalink" href="index.html#ConsenterCertificate.IsConsenterOfChannel">&#xb6;</a>
					
					
				</h3>
				<pre>func (conCert <a href="index.html#ConsenterCertificate">ConsenterCertificate</a>) IsConsenterOfChannel(configBlock *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#Block">Block</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
IsConsenterOfChannel returns whether the caller is a consenter of a channel
by inspecting the given configuration block.
It returns nil if true, else returns an error.
</p>

				
				
				
			
		
			
			
			<h2 id="CreateBlockPuller">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=2553:2603#L79">CreateBlockPuller</a>
				<a class="permalink" href="index.html#CreateBlockPuller">&#xb6;</a>
				
				
			</h2>
			<p>
CreateBlockPuller is a function to create BlockPuller on demand.
It is passed into chain initializer so that tests could mock this.
</p>

			<pre>type CreateBlockPuller func() (<a href="index.html#BlockPuller">BlockPuller</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="CreateChainCallback">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter.go?s=941:972#L24">CreateChainCallback</a>
				<a class="permalink" href="index.html#CreateChainCallback">&#xb6;</a>
				
				
			</h2>
			<p>
CreateChainCallback creates a new chain
</p>

			<pre>type CreateChainCallback func()</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Dispatcher">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/dispatcher.go?s=1079:1173#L25">Dispatcher</a>
				<a class="permalink" href="index.html#Dispatcher">&#xb6;</a>
				
				
			</h2>
			<p>
Dispatcher dispatches Submit and Step requests to the designated per chain instances
</p>

			<pre>type Dispatcher struct {
<span id="Dispatcher.Logger"></span>    Logger        *<a href="../../../common/flogging/index.html">flogging</a>.<a href="../../../common/flogging/index.html#FabricLogger">FabricLogger</a>
<span id="Dispatcher.ChainSelector"></span>    ChainSelector <a href="index.html#ReceiverGetter">ReceiverGetter</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="Dispatcher.OnConsensus">func (*Dispatcher) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/dispatcher.go?s=1286:1390#L31">OnConsensus</a>
					<a class="permalink" href="index.html#Dispatcher.OnConsensus">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Dispatcher">Dispatcher</a>) OnConsensus(channel <a href="http://localhost:6060/pkg/builtin/#string">string</a>, sender <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>, request *<a href="../../../protos/orderer/index.html">orderer</a>.<a href="../../../protos/orderer/index.html#ConsensusRequest">ConsensusRequest</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
OnConsensus notifies the Dispatcher for a reception of a StepRequest from a given sender on a given channel
</p>

				
				
				
			
				
				<h3 id="Dispatcher.OnSubmit">func (*Dispatcher) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/dispatcher.go?s=1814:1912#L41">OnSubmit</a>
					<a class="permalink" href="index.html#Dispatcher.OnSubmit">&#xb6;</a>
					
					
				</h3>
				<pre>func (d *<a href="index.html#Dispatcher">Dispatcher</a>) OnSubmit(channel <a href="http://localhost:6060/pkg/builtin/#string">string</a>, sender <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>, request *<a href="../../../protos/orderer/index.html">orderer</a>.<a href="../../../protos/orderer/index.html#SubmitRequest">SubmitRequest</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
OnSubmit notifies the Dispatcher for a reception of a SubmitRequest from a given sender on a given channel
</p>

				
				
				
			
		
			
			
			<h2 id="InactiveChainRegistry">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter.go?s=1123:1373#L29">InactiveChainRegistry</a>
				<a class="permalink" href="index.html#InactiveChainRegistry">&#xb6;</a>
				
				
			</h2>
			<p>
InactiveChainRegistry registers chains that are inactive
</p>

			<pre>type InactiveChainRegistry interface {
    <span class="comment">// TrackChain tracks a chain with the given name, and calls the given callback</span>
    <span class="comment">// when this chain should be created.</span>
    TrackChain(chainName <a href="http://localhost:6060/pkg/builtin/#string">string</a>, genesisBlock *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#Block">Block</a>, createChain <a href="index.html#CreateChainCallback">CreateChainCallback</a>)
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="LedgerBlockPuller">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=18513:18628#L564">LedgerBlockPuller</a>
				<a class="permalink" href="index.html#LedgerBlockPuller">&#xb6;</a>
				
				
			</h2>
			<p>
LedgerBlockPuller pulls blocks upon demand, or fetches them
from the ledger.
</p>

			<pre>type LedgerBlockPuller struct {
    <a href="index.html#BlockPuller">BlockPuller</a>
<span id="LedgerBlockPuller.BlockRetriever"></span>    BlockRetriever <a href="../../common/cluster/index.html">cluster</a>.<a href="../../common/cluster/index.html#BlockRetriever">BlockRetriever</a>
<span id="LedgerBlockPuller.Height"></span>    Height         func() <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="LedgerBlockPuller.PullBlock">func (*LedgerBlockPuller) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=18630:18704#L570">PullBlock</a>
					<a class="permalink" href="index.html#LedgerBlockPuller.PullBlock">&#xb6;</a>
					
					
				</h3>
				<pre>func (ledgerPuller *<a href="index.html#LedgerBlockPuller">LedgerBlockPuller</a>) PullBlock(seq <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>) *<a href="../../../protos/common/index.html">common</a>.<a href="../../../protos/common/index.html#Block">Block</a></pre>
				
				
				
				
			
		
			
			
			<h2 id="MembershipChanges">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=933:1199#L26">MembershipChanges</a>
				<a class="permalink" href="index.html#MembershipChanges">&#xb6;</a>
				
				
			</h2>
			<p>
MembershipChanges keeps information about membership
changes introduced during configuration update
</p>

			<pre>type MembershipChanges struct {
<span id="MembershipChanges.NewBlockMetadata"></span>    NewBlockMetadata *<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#BlockMetadata">BlockMetadata</a>
<span id="MembershipChanges.NewConsenters"></span>    NewConsenters    map[<a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>]*<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#Consenter">Consenter</a>
<span id="MembershipChanges.AddedNodes"></span>    AddedNodes       []*<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#Consenter">Consenter</a>
<span id="MembershipChanges.RemovedNodes"></span>    RemovedNodes     []*<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#Consenter">Consenter</a>
<span id="MembershipChanges.ConfChange"></span>    ConfChange       *<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#ConfChange">ConfChange</a>
<span id="MembershipChanges.RotatedNode"></span>    RotatedNode      <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="ComputeMembershipChanges">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=5153:5337#L154">ComputeMembershipChanges</a>
					<a class="permalink" href="index.html#ComputeMembershipChanges">&#xb6;</a>
					
					
				</h3>
				<pre>func ComputeMembershipChanges(oldMetadata *<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#BlockMetadata">BlockMetadata</a>, oldConsenters map[<a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>]*<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#Consenter">Consenter</a>, newConsenters []*<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#Consenter">Consenter</a>) (mc *<a href="index.html#MembershipChanges">MembershipChanges</a>, err <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				<p>
ComputeMembershipChanges computes membership update based on information about new conseters, returns
two slices: a slice of added consenters and a slice of consenters to be removed
</p>

				
				
			

			
				
				<h3 id="MembershipChanges.Changed">func (*MembershipChanges) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=1460:1503#L41">Changed</a>
					<a class="permalink" href="index.html#MembershipChanges.Changed">&#xb6;</a>
					
					
				</h3>
				<pre>func (mc *<a href="index.html#MembershipChanges">MembershipChanges</a>) Changed() <a href="http://localhost:6060/pkg/builtin/#bool">bool</a></pre>
				<p>
Changed indicates whether these changes actually do anything
</p>

				
				
				
			
				
				<h3 id="MembershipChanges.Rotated">func (*MembershipChanges) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=1623:1666#L46">Rotated</a>
					<a class="permalink" href="index.html#MembershipChanges.Rotated">&#xb6;</a>
					
					
				</h3>
				<pre>func (mc *<a href="index.html#MembershipChanges">MembershipChanges</a>) Rotated() <a href="http://localhost:6060/pkg/builtin/#bool">bool</a></pre>
				<p>
Rotated indicates whether the change was a rotation
</p>

				
				
				
			
				
				<h3 id="MembershipChanges.String">func (*MembershipChanges) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=1247:1291#L36">String</a>
					<a class="permalink" href="index.html#MembershipChanges.String">&#xb6;</a>
					
					
				</h3>
				<pre>func (mc *<a href="index.html#MembershipChanges">MembershipChanges</a>) String() <a href="http://localhost:6060/pkg/builtin/#string">string</a></pre>
				<p>
Stringer implements fmt.Stringer interface
</p>

				
				
				
			
		
			
			
			<h2 id="MemoryStorage">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/storage.go?s=1089:1379#L28">MemoryStorage</a>
				<a class="permalink" href="index.html#MemoryStorage">&#xb6;</a>
				
				
			</h2>
			<p>
MemoryStorage is currently backed by etcd/raft.MemoryStorage. This interface is
defined to expose dependencies of fsm so that it may be swapped in the
future. TODO(jay) Add other necessary methods to this interface once we need
them in implementation, e.g. ApplySnapshot.
</p>

			<pre>type MemoryStorage interface {
    <a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/">raft</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/#Storage">Storage</a>
    Append(entries []<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#Entry">Entry</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a>
    SetHardState(st <a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#HardState">HardState</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a>
    CreateSnapshot(i <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>, cs *<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#ConfState">ConfState</a>, data []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>) (<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#Snapshot">Snapshot</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)
    Compact(compactIndex <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a>
    ApplySnapshot(snap <a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#Snapshot">Snapshot</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="MessageReceiver">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/dispatcher.go?s=357:664#L8">MessageReceiver</a>
				<a class="permalink" href="index.html#MessageReceiver">&#xb6;</a>
				
				
			</h2>
			<p>
MessageReceiver receives messages
</p>

			<pre>type MessageReceiver interface {
    <span class="comment">// Consensus passes the given ConsensusRequest message to the MessageReceiver</span>
    Consensus(req *<a href="../../../protos/orderer/index.html">orderer</a>.<a href="../../../protos/orderer/index.html#ConsensusRequest">ConsensusRequest</a>, sender <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a>

    <span class="comment">// Submit passes the given SubmitRequest message to the MessageReceiver</span>
    Submit(req *<a href="../../../protos/orderer/index.html">orderer</a>.<a href="../../../protos/orderer/index.html#SubmitRequest">SubmitRequest</a>, sender <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Metrics">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/metrics.go?s=2824:3210#L76">Metrics</a>
				<a class="permalink" href="index.html#Metrics">&#xb6;</a>
				
				
			</h2>
			
			<pre>type Metrics struct {
<span id="Metrics.ClusterSize"></span>    ClusterSize             <a href="../../../common/metrics/index.html">metrics</a>.<a href="../../../common/metrics/index.html#Gauge">Gauge</a>
<span id="Metrics.IsLeader"></span>    IsLeader                <a href="../../../common/metrics/index.html">metrics</a>.<a href="../../../common/metrics/index.html#Gauge">Gauge</a>
<span id="Metrics.CommittedBlockNumber"></span>    CommittedBlockNumber    <a href="../../../common/metrics/index.html">metrics</a>.<a href="../../../common/metrics/index.html#Gauge">Gauge</a>
<span id="Metrics.SnapshotBlockNumber"></span>    SnapshotBlockNumber     <a href="../../../common/metrics/index.html">metrics</a>.<a href="../../../common/metrics/index.html#Gauge">Gauge</a>
<span id="Metrics.LeaderChanges"></span>    LeaderChanges           <a href="../../../common/metrics/index.html">metrics</a>.<a href="../../../common/metrics/index.html#Counter">Counter</a>
<span id="Metrics.ProposalFailures"></span>    ProposalFailures        <a href="../../../common/metrics/index.html">metrics</a>.<a href="../../../common/metrics/index.html#Counter">Counter</a>
<span id="Metrics.DataPersistDuration"></span>    DataPersistDuration     <a href="../../../common/metrics/index.html">metrics</a>.<a href="../../../common/metrics/index.html#Histogram">Histogram</a>
<span id="Metrics.NormalProposalsReceived"></span>    NormalProposalsReceived <a href="../../../common/metrics/index.html">metrics</a>.<a href="../../../common/metrics/index.html#Counter">Counter</a>
<span id="Metrics.ConfigProposalsReceived"></span>    ConfigProposalsReceived <a href="../../../common/metrics/index.html">metrics</a>.<a href="../../../common/metrics/index.html#Counter">Counter</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewMetrics">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/metrics.go?s=3212:3256#L88">NewMetrics</a>
					<a class="permalink" href="index.html#NewMetrics">&#xb6;</a>
					
					
				</h3>
				<pre>func NewMetrics(p <a href="../../../common/metrics/index.html">metrics</a>.<a href="../../../common/metrics/index.html#Provider">Provider</a>) *<a href="index.html#Metrics">Metrics</a></pre>
				
				
				
			

			
		
			
			
			<h2 id="Options">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=2671:3582#L82">Options</a>
				<a class="permalink" href="index.html#Options">&#xb6;</a>
				
				
			</h2>
			<p>
Options contains all the configurations relevant to the chain.
</p>

			<pre>type Options struct {
<span id="Options.RaftID"></span>    RaftID <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>

<span id="Options.Clock"></span>    Clock <a href="http://localhost:6060/pkg/code.cloudfoundry.org/clock/">clock</a>.<a href="http://localhost:6060/pkg/code.cloudfoundry.org/clock/#Clock">Clock</a>

<span id="Options.WALDir"></span>    WALDir               <a href="http://localhost:6060/pkg/builtin/#string">string</a>
<span id="Options.SnapDir"></span>    SnapDir              <a href="http://localhost:6060/pkg/builtin/#string">string</a>
<span id="Options.SnapshotIntervalSize"></span>    SnapshotIntervalSize <a href="http://localhost:6060/pkg/builtin/#uint32">uint32</a>

    <span class="comment">// This is configurable mainly for testing purpose. Users are not</span>
    <span class="comment">// expected to alter this. Instead, DefaultSnapshotCatchUpEntries is used.</span>
<span id="Options.SnapshotCatchUpEntries"></span>    SnapshotCatchUpEntries <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>

<span id="Options.MemoryStorage"></span>    MemoryStorage <a href="index.html#MemoryStorage">MemoryStorage</a>
<span id="Options.Logger"></span>    Logger        *<a href="../../../common/flogging/index.html">flogging</a>.<a href="../../../common/flogging/index.html#FabricLogger">FabricLogger</a>

<span id="Options.TickInterval"></span>    TickInterval      <a href="http://localhost:6060/pkg/time/">time</a>.<a href="http://localhost:6060/pkg/time/#Duration">Duration</a>
<span id="Options.ElectionTick"></span>    ElectionTick      <a href="http://localhost:6060/pkg/builtin/#int">int</a>
<span id="Options.HeartbeatTick"></span>    HeartbeatTick     <a href="http://localhost:6060/pkg/builtin/#int">int</a>
<span id="Options.MaxSizePerMsg"></span>    MaxSizePerMsg     <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>
<span id="Options.MaxInflightBlocks"></span>    MaxInflightBlocks <a href="http://localhost:6060/pkg/builtin/#int">int</a>

    <span class="comment">// BlockMetdata and Consenters should only be modified while under lock</span>
    <span class="comment">// of raftMetadataLock</span>
<span id="Options.BlockMetadata"></span>    BlockMetadata *<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#BlockMetadata">BlockMetadata</a>
<span id="Options.Consenters"></span>    Consenters    map[<a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>]*<a href="../../../protos/orderer/etcdraft/index.html">etcdraft</a>.<a href="../../../protos/orderer/etcdraft/index.html#Consenter">Consenter</a>

<span id="Options.MigrationInit"></span>    <span class="comment">// MigrationInit is set when the node starts right after consensus-type migration</span>
    MigrationInit <a href="http://localhost:6060/pkg/builtin/#bool">bool</a>

<span id="Options.Metrics"></span>    Metrics *<a href="index.html#Metrics">Metrics</a>
<span id="Options.Cert"></span>    Cert    []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>

<span id="Options.EvictionSuspicion"></span>    EvictionSuspicion   <a href="http://localhost:6060/pkg/time/">time</a>.<a href="http://localhost:6060/pkg/time/#Duration">Duration</a>
<span id="Options.LeaderCheckInterval"></span>    LeaderCheckInterval <a href="http://localhost:6060/pkg/time/">time</a>.<a href="http://localhost:6060/pkg/time/#Duration">Duration</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="PeriodicCheck">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=17291:17621#L512">PeriodicCheck</a>
				<a class="permalink" href="index.html#PeriodicCheck">&#xb6;</a>
				
				
			</h2>
			<p>
PeriodicCheck checks periodically a condition, and reports
the cumulative consecutive period the condition was fulfilled.
</p>

			<pre>type PeriodicCheck struct {
<span id="PeriodicCheck.Logger"></span>    Logger        *<a href="../../../common/flogging/index.html">flogging</a>.<a href="../../../common/flogging/index.html#FabricLogger">FabricLogger</a>
<span id="PeriodicCheck.CheckInterval"></span>    CheckInterval <a href="http://localhost:6060/pkg/time/">time</a>.<a href="http://localhost:6060/pkg/time/#Duration">Duration</a>
<span id="PeriodicCheck.Condition"></span>    Condition     func() <a href="http://localhost:6060/pkg/builtin/#bool">bool</a>
<span id="PeriodicCheck.Report"></span>    Report        func(cumulativePeriod <a href="http://localhost:6060/pkg/time/">time</a>.<a href="http://localhost:6060/pkg/time/#Duration">Duration</a>)
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="PeriodicCheck.Run">func (*PeriodicCheck) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=17653:17683#L523">Run</a>
					<a class="permalink" href="index.html#PeriodicCheck.Run">&#xb6;</a>
					
					
				</h3>
				<pre>func (pc *<a href="index.html#PeriodicCheck">PeriodicCheck</a>) Run()</pre>
				<p>
Run runs the PeriodicCheck
</p>

				
				
				
			
				
				<h3 id="PeriodicCheck.Stop">func (*PeriodicCheck) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/util.go?s=17745:17776#L528">Stop</a>
					<a class="permalink" href="index.html#PeriodicCheck.Stop">&#xb6;</a>
					
					
				</h3>
				<pre>func (pc *<a href="index.html#PeriodicCheck">PeriodicCheck</a>) Stop()</pre>
				<p>
Stop stops the periodic checks
</p>

				
				
				
			
		
			
			
			<h2 id="RPC">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go?s=2011:2161#L63">RPC</a>
				<a class="permalink" href="index.html#RPC">&#xb6;</a>
				
				
			</h2>
			<p>
RPC is used to mock the transport layer in tests.
</p>

			<pre>type RPC interface {
    SendConsensus(dest <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>, msg *<a href="../../../protos/orderer/index.html">orderer</a>.<a href="../../../protos/orderer/index.html#ConsensusRequest">ConsensusRequest</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a>
    SendSubmit(dest <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>, request *<a href="../../../protos/orderer/index.html">orderer</a>.<a href="../../../protos/orderer/index.html#SubmitRequest">SubmitRequest</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="RaftStorage">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/storage.go?s=1462:1727#L38">RaftStorage</a>
				<a class="permalink" href="index.html#RaftStorage">&#xb6;</a>
				
				
			</h2>
			<p>
RaftStorage encapsulates storages needed for etcd/raft data, i.e. memory, wal
</p>

			<pre>type RaftStorage struct {
<span id="RaftStorage.SnapshotCatchUpEntries"></span>    SnapshotCatchUpEntries <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="CreateStorage">func <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/storage.go?s=1887:2011#L56">CreateStorage</a>
					<a class="permalink" href="index.html#CreateStorage">&#xb6;</a>
					
					
				</h3>
				<pre>func CreateStorage(
    lg *<a href="../../../common/flogging/index.html">flogging</a>.<a href="../../../common/flogging/index.html#FabricLogger">FabricLogger</a>,
    walDir <a href="http://localhost:6060/pkg/builtin/#string">string</a>,
    snapDir <a href="http://localhost:6060/pkg/builtin/#string">string</a>,
    ram <a href="index.html#MemoryStorage">MemoryStorage</a>,
) (*<a href="index.html#RaftStorage">RaftStorage</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
				<p>
CreateStorage attempts to create a storage to persist etcd/raft data.
If data presents in specified disk, they are loaded to reconstruct storage state.
</p>

				
				
			

			
				
				<h3 id="RaftStorage.ApplySnapshot">func (*RaftStorage) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/storage.go?s=11942:12000#L415">ApplySnapshot</a>
					<a class="permalink" href="index.html#RaftStorage.ApplySnapshot">&#xb6;</a>
					
					
				</h3>
				<pre>func (rs *<a href="index.html#RaftStorage">RaftStorage</a>) ApplySnapshot(snap <a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#Snapshot">Snapshot</a>)</pre>
				<p>
ApplySnapshot applies snapshot to local memory storage
</p>

				
				
				
			
				
				<h3 id="RaftStorage.Close">func (*RaftStorage) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/storage.go?s=12320:12356#L427">Close</a>
					<a class="permalink" href="index.html#RaftStorage.Close">&#xb6;</a>
					
					
				</h3>
				<pre>func (rs *<a href="index.html#RaftStorage">RaftStorage</a>) Close() <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
Close closes storage
</p>

				
				
				
			
				
				<h3 id="RaftStorage.Snapshot">func (*RaftStorage) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/storage.go?s=6916:6965#L228">Snapshot</a>
					<a class="permalink" href="index.html#RaftStorage.Snapshot">&#xb6;</a>
					
					
				</h3>
				<pre>func (rs *<a href="index.html#RaftStorage">RaftStorage</a>) Snapshot() <a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#Snapshot">Snapshot</a></pre>
				<p>
Snapshot returns the latest snapshot stored in memory
</p>

				
				
				
			
				
				<h3 id="RaftStorage.Store">func (*RaftStorage) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/storage.go?s=7080:7192#L234">Store</a>
					<a class="permalink" href="index.html#RaftStorage.Store">&#xb6;</a>
					
					
				</h3>
				<pre>func (rs *<a href="index.html#RaftStorage">RaftStorage</a>) Store(entries []<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#Entry">Entry</a>, hardstate <a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#HardState">HardState</a>, snapshot <a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#Snapshot">Snapshot</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
Store persists etcd/raft data
</p>

				
				
				
			
				
				<h3 id="RaftStorage.TakeSnapshot">func (*RaftStorage) <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/storage.go?s=8719:8804#L289">TakeSnapshot</a>
					<a class="permalink" href="index.html#RaftStorage.TakeSnapshot">&#xb6;</a>
					
					
				</h3>
				<pre>func (rs *<a href="index.html#RaftStorage">RaftStorage</a>) TakeSnapshot(i <a href="http://localhost:6060/pkg/builtin/#uint64">uint64</a>, cs <a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/">raftpb</a>.<a href="http://localhost:6060/pkg/go.etcd.io/etcd/raft/raftpb/#ConfState">ConfState</a>, data []<a href="http://localhost:6060/pkg/builtin/#byte">byte</a>) <a href="http://localhost:6060/pkg/builtin/#error">error</a></pre>
				<p>
TakeSnapshot takes a snapshot at index i from MemoryStorage, and persists it to wal and disk.
</p>

				
				
				
			
		
			
			
			<h2 id="ReceiverGetter">type <a href="http://localhost:6060/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/dispatcher.go?s=822:989#L19">ReceiverGetter</a>
				<a class="permalink" href="index.html#ReceiverGetter">&#xb6;</a>
				
				
			</h2>
			<p>
ReceiverGetter obtains instances of MessageReceiver given a channel ID
</p>

			<pre>type ReceiverGetter interface {
    <span class="comment">// ReceiverByChain returns the MessageReceiver if it exists, or nil if it doesn&#39;t</span>
    ReceiverByChain(channelID <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="index.html#MessageReceiver">MessageReceiver</a>
}</pre>

			

			

			
			
			

			

			
		
	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<div class="pkg-dir">
		<table>
			<tr>
				<th class="pkg-name">Name</th>
				<th class="pkg-synopsis">Synopsis</th>
			</tr>

			
			<tr>
				<td colspan="2"><a href="../index.html">..</a></td>
			</tr>
			

			
				<tr>
				
					<td class="pkg-name" style="padding-left: 0px;">
						<a href="mocks/index.html">mocks</a>
					</td>
				
					<td class="pkg-synopsis">
						Code generated by counterfeiter.
					</td>
				</tr>
			
		</table>
	</div>



<div id="footer">
Build version go1.11.5.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="http://localhost:6060/doc/tos.html">Terms of Service</a> |
<a href="http://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->

</body>
</html>

