<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>httpguts - The Go Programming Language</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">


<script>window.initFuncs = [];</script>

<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.11.5";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/">The Go Programming Language</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/">Go</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">
<a href="http://localhost:6060/doc/">Documents</a>
<a href="../../../../../index.html">Packages</a>
<a href="http://localhost:6060/project/">The Project</a>
<a href="http://localhost:6060/help/">Help</a>

<a href="http://localhost:6060/blog/">Blog</a>


<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package httpguts
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "golang.org/x/net/http/httpguts"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>
Package httpguts provides functions implementing various details
of the HTTP specification.
</p>
<p>
This package is shared by the standard library (which vendors it)
and x/net/http2. It comes with no API stability promise.
</p>

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
			
				
				<dd><a href="index.html#HeaderValuesContainsToken">func HeaderValuesContainsToken(values []string, token string) bool</a></dd>
			
				
				<dd><a href="index.html#IsTokenRune">func IsTokenRune(r rune) bool</a></dd>
			
				
				<dd><a href="index.html#PunycodeHostPort">func PunycodeHostPort(v string) (string, error)</a></dd>
			
				
				<dd><a href="index.html#ValidHeaderFieldName">func ValidHeaderFieldName(v string) bool</a></dd>
			
				
				<dd><a href="index.html#ValidHeaderFieldValue">func ValidHeaderFieldValue(v string) bool</a></dd>
			
				
				<dd><a href="index.html#ValidHostHeader">func ValidHostHeader(h string) bool</a></dd>
			
				
				<dd><a href="index.html#ValidTrailerHeader">func ValidTrailerHeader(name string) bool</a></dd>
			
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/golang.org/x/net/http/httpguts/guts.go">guts.go</a>
			
				<a href="http://localhost:6060/src/golang.org/x/net/http/httpguts/httplex.go">httplex.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
		
			
			
			<h2 id="HeaderValuesContainsToken">func <a href="http://localhost:6060/src/golang.org/x/net/http/httpguts/httplex.go?s=1563:1629#L96">HeaderValuesContainsToken</a>
				<a class="permalink" href="index.html#HeaderValuesContainsToken">&#xb6;</a>
				
				
			</h2>
			<pre>func HeaderValuesContainsToken(values []<a href="http://localhost:6060/pkg/builtin/#string">string</a>, token <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="http://localhost:6060/pkg/builtin/#bool">bool</a></pre>
			<p>
HeaderValuesContainsToken reports whether any string in values
contains the provided token, ASCII case-insensitively.
</p>

			
			

		
			
			
			<h2 id="IsTokenRune">func <a href="http://localhost:6060/src/golang.org/x/net/http/httpguts/httplex.go?s=1284:1313#L85">IsTokenRune</a>
				<a class="permalink" href="index.html#IsTokenRune">&#xb6;</a>
				
				
			</h2>
			<pre>func IsTokenRune(r <a href="http://localhost:6060/pkg/builtin/#rune">rune</a>) <a href="http://localhost:6060/pkg/builtin/#bool">bool</a></pre>
			
			
			

		
			
			
			<h2 id="PunycodeHostPort">func <a href="http://localhost:6060/src/golang.org/x/net/http/httpguts/httplex.go?s=8545:8592#L313">PunycodeHostPort</a>
				<a class="permalink" href="index.html#PunycodeHostPort">&#xb6;</a>
				
				
			</h2>
			<pre>func PunycodeHostPort(v <a href="http://localhost:6060/pkg/builtin/#string">string</a>) (<a href="http://localhost:6060/pkg/builtin/#string">string</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)</pre>
			<p>
PunycodeHostPort returns the IDNA Punycode version
of the provided &#34;host&#34; or &#34;host:port&#34; string.
</p>

			
			

		
			
			
			<h2 id="ValidHeaderFieldName">func <a href="http://localhost:6060/src/golang.org/x/net/http/httpguts/httplex.go?s=4308:4348#L186">ValidHeaderFieldName</a>
				<a class="permalink" href="index.html#ValidHeaderFieldName">&#xb6;</a>
				
				
			</h2>
			<pre>func ValidHeaderFieldName(v <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="http://localhost:6060/pkg/builtin/#bool">bool</a></pre>
			<p>
ValidHeaderFieldName reports whether v is a valid HTTP/1.x header name.
HTTP/2 imposes the additional restriction that uppercase ASCII
letters are not allowed.
</p>
<pre>RFC 7230 says:
 header-field   = field-name &#34;:&#34; OWS field-value OWS
 field-name     = token
 token          = 1*tchar
 tchar = &#34;!&#34; / &#34;#&#34; / &#34;$&#34; / &#34;%&#34; / &#34;&amp;&#34; / &#34;&#39;&#34; / &#34;*&#34; / &#34;+&#34; / &#34;-&#34; / &#34;.&#34; /
         &#34;^&#34; / &#34;_&#34; / &#34;`&#34; / &#34;|&#34; / &#34;~&#34; / DIGIT / ALPHA
</pre>

			
			

		
			
			
			<h2 id="ValidHeaderFieldValue">func <a href="http://localhost:6060/src/golang.org/x/net/http/httpguts/httplex.go?s=8158:8199#L292">ValidHeaderFieldValue</a>
				<a class="permalink" href="index.html#ValidHeaderFieldValue">&#xb6;</a>
				
				
			</h2>
			<pre>func ValidHeaderFieldValue(v <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="http://localhost:6060/pkg/builtin/#bool">bool</a></pre>
			<p>
ValidHeaderFieldValue reports whether v is a valid &#34;field-value&#34; according to
<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.2">http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.2</a> :
</p>
<pre>message-header = field-name &#34;:&#34; [ field-value ]
field-value    = *( field-content | LWS )
field-content  = &lt;the OCTETs making up the field-value
                 and consisting of either *TEXT or combinations
                 of token, separators, and quoted-string&gt;
</pre>
<p>
<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec2.html#sec2.2">http://www.w3.org/Protocols/rfc2616/rfc2616-sec2.html#sec2.2</a> :
</p>
<pre>TEXT           = &lt;any OCTET except CTLs,
                  but including LWS&gt;
LWS            = [CRLF] 1*( SP | HT )
CTL            = &lt;any US-ASCII control character
                 (octets 0 - 31) and DEL (127)&gt;
</pre>
<p>
RFC 7230 says:
</p>
<pre>field-value    = *( field-content / obs-fold )
obj-fold       =  N/A to http2, and deprecated
field-content  = field-vchar [ 1*( SP / HTAB ) field-vchar ]
field-vchar    = VCHAR / obs-text
obs-text       = %x80-FF
VCHAR          = &#34;any visible [USASCII] character&#34;
</pre>
<p>
http2 further says: &#34;Similarly, HTTP/2 allows header field values
that are not valid. While most of the values that can be encoded
will not alter header field parsing, carriage return (CR, ASCII
0xd), line feed (LF, ASCII 0xa), and the zero character (NUL, ASCII
0x0) might be exploited by an attacker if they are translated
verbatim. Any request or response that contains a character not
permitted in a header field value MUST be treated as malformed
(Section 8.1.2.6). Valid characters are defined by the
field-content ABNF rule in Section 3.2 of [RFC7230].&#34;
</p>
<p>
This function does not (yet?) properly handle the rejection of
strings that begin or end with SP or HTAB.
</p>

			
			

		
			
			
			<h2 id="ValidHostHeader">func <a href="http://localhost:6060/src/golang.org/x/net/http/httpguts/httplex.go?s=4533:4568#L199">ValidHostHeader</a>
				<a class="permalink" href="index.html#ValidHostHeader">&#xb6;</a>
				
				
			</h2>
			<pre>func ValidHostHeader(h <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="http://localhost:6060/pkg/builtin/#bool">bool</a></pre>
			<p>
ValidHostHeader reports whether h is a valid host header.
</p>

			
			

		
			
			
			<h2 id="ValidTrailerHeader">func <a href="http://localhost:6060/src/golang.org/x/net/http/httpguts/guts.go?s=577:618#L10">ValidTrailerHeader</a>
				<a class="permalink" href="index.html#ValidTrailerHeader">&#xb6;</a>
				
				
			</h2>
			<pre>func ValidTrailerHeader(name <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="http://localhost:6060/pkg/builtin/#bool">bool</a></pre>
			<p>
ValidTrailerHeader reports whether name is a valid header field name to appear
in trailers.
See RFC 7230, Section 4.1.2
</p>

			
			

		
		
	

	







<div id="footer">
Build version go1.11.5.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="http://localhost:6060/doc/tos.html">Terms of Service</a> |
<a href="http://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->

</body>
</html>

